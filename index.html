<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö° GOOGLE NEWS MASS GENERATOR - ZIP DOWNLOAD READY</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial, sans-serif; 
            background: #f0f2f5; 
            padding: 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header {
            background: #0a1929;
            color: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 25px;
        }
        .card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            border: 1px solid #e0e0e0;
        }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 25px;
        }
        @media (max-width: 900px) {
            .grid { grid-template-columns: 1fr; }
        }
        input, select, textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            margin-bottom: 15px;
        }
        textarea {
            font-family: monospace;
            resize: vertical;
        }
        button {
            background: #0a1929;
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 40px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
        }
        button:hover {
            background: #1a2a3a;
            transform: translateY(-2px);
        }
        .badge {
            background: #ffc107;
            color: black;
            padding: 4px 14px;
            border-radius: 30px;
            font-size: 13px;
            font-weight: bold;
            display: inline-block;
            margin-right: 10px;
        }
        .file-list {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e0e0e0;
            margin-top: 20px;
        }
        .file-item {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 12px;
            font-family: monospace;
        }
        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }
        .progress-fill {
            height: 100%;
            background: #0a1929;
            width: 0%;
            border-radius: 10px;
            transition: width 0.3s;
        }
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 10px;
            font-size: 12px;
            max-height: 200px;
            overflow: auto;
        }
        .download-btn {
            background: #28a745;
            margin-top: 15px;
        }
    </style>
    
    <!-- JSZip Library untuk ZIP download -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1 style="font-size: 28px; margin-bottom: 10px;">üì∞ GOOGLE NEWS MASS GENERATOR</h1>
            <p style="color: #ccc; font-size: 16px;">1 keyword = 10 artikel HTML + ZIP download + ID unik (8Ac3F9zP) di belakang title</p>
            <div style="margin-top: 15px;">
                <span class="badge">‚úÖ ZIP LANGSUNG DOWNLOAD</span>
                <span class="badge" style="background: #28a745; color: white;">üî¢ ID UNIK OTOMATIS</span>
                <span class="badge" style="background: #17a2b8; color: white;">üåê 6 BAHASA</span>
            </div>
        </div>

        <!-- MAIN GRID -->
        <div class="grid">
            <!-- LEFT PANEL - INPUT -->
            <div class="card">
                <h2 style="margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span>üéØ 1.</span> INPUT KEYWORD
                </h2>
                
                <label style="font-weight: bold; display: block; margin-bottom: 5px;">üîë Keyword Utama</label>
                <input type="text" id="keyword" value="cryptocurrency" placeholder="Masukkan keyword">
                
                <label style="font-weight: bold; display: block; margin-bottom: 5px;">üåé Bahasa</label>
                <select id="language">
                    <option value="id">üáÆüá© Indonesia</option>
                    <option value="us" selected>üá∫üá∏ English (US)</option>
                    <option value="gb">üá¨üáß English (UK)</option>
                    <option value="jp">üáØüáµ Êó•Êú¨Ë™û</option>
                    <option value="sa">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                    <option value="fr">üá´üá∑ Fran√ßais</option>
                    <option value="de">üá©üá™ Deutsch</option>
                </select>
                
                <label style="font-weight: bold; display: block; margin-bottom: 5px;">üìÑ Jumlah Artikel</label>
                <select id="jumlah">
                    <option value="5">5 artikel</option>
                    <option value="10" selected>10 artikel</option>
                    <option value="15">15 artikel</option>
                    <option value="20">20 artikel</option>
                </select>
                
                <!-- ADS SCRIPT -->
                <div style="background: #fff9e6; border: 1px solid #ffc107; border-radius: 12px; padding: 20px; margin: 20px 0;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: #ffc107; padding: 4px 16px; border-radius: 30px; font-weight: bold;">üì¢ ADS</span>
                        <span style="color: #856404;">Script iklan (Adsterra/Adsense)</span>
                    </div>
                    <textarea id="adsScript" rows="3">&lt;div style="background: #f8f9fa; padding: 20px; text-align: center; border-radius: 8px;"&gt;
&lt;strong&gt;üì¢ IKLAN ANDA DI SINI&lt;/strong&gt;&lt;br&gt;
&lt;span style="color: #666;"&gt;Ganti dengan script Adsterra&lt;/span&gt;
&lt;/div&gt;</textarea>
                </div>
                
                <!-- HISTATS SCRIPT -->
                <div style="background: #d1ecf1; border: 1px solid #17a2b8; border-radius: 12px; padding: 20px; margin: 20px 0;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: #17a2b8; color: white; padding: 4px 16px; border-radius: 30px; font-weight: bold;">üìä HISTATS</span>
                        <span style="color: #0c5460;">Counter pengunjung</span>
                    </div>
                    <textarea id="histatsScript" rows="3">&lt;!-- Histats.com START --&gt;
&lt;script&gt;
_Hasync.push(['Histats.start', '1,1234567,4,0,0,0,00000000']);
_Hasync.push(['Histats.fasi', '1']);
_Hasync.push(['Histats.track_hits', '']);
(function() {
  var hs = document.createElement('script'); hs.async = true;
  hs.src = '//s10.histats.com/js15_as.js';
  document.head.appendChild(hs);
})();
&lt;/script&gt;
&lt;!-- Histats.com END --&gt;</textarea>
                </div>
                
                <button onclick="generateAndZip()" style="background: #0a1929; padding: 16px;">
                    ‚ö° GENERATE & ZIP DOWNLOAD
                </button>
                <p style="text-align: center; margin-top: 15px; color: #28a745; font-weight: bold;">
                    ‚úÖ 1 klik = langsung download ZIP berisi 10 HTML + sitemap.xml
                </p>
            </div>
            
            <!-- RIGHT PANEL - PREVIEW -->
            <div class="card">
                <h2 style="margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span>üìã 2.</span> LIVE PREVIEW
                </h2>
                
                <!-- PROGRESS -->
                <div id="progressContainer" style="display: none;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span id="progressStatus">Memproses...</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar" id="progressBar" style="display: block;">
                        <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                    </div>
                </div>
                
                <!-- FILE LIST -->
                <div id="fileListContainer">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        <span style="font-weight: bold;">üìÅ FILE YANG AKAN DIDOWNLOAD:</span>
                        <span id="fileCount">0 file</span>
                    </div>
                    <div class="file-list" id="fileList">
                        <div class="file-item" style="color: #666;">‚è≥ Generate untuk melihat daftar file...</div>
                    </div>
                </div>
                
                <!-- PREVIEW ID UNIK -->
                <div style="margin-top: 25px; background: #f8f9fa; border-radius: 12px; padding: 20px;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: #0a1929; color: white; padding: 4px 14px; border-radius: 30px; font-size: 12px;">üî¢ CONTOH ID UNIK</span>
                        <span style="color: #0a1929;">8 karakter random (a1B2c3D4)</span>
                    </div>
                    <div id="idPreview" style="font-family: monospace; background: white; padding: 15px; border-radius: 8px; border: 1px solid #e0e0e0;">
                        cryptocurrency-8fK2mP9x.html<br>
                        cryptocurrency-3tR7wY1a.html<br>
                        cryptocurrency-5nL9qC4v.html
                    </div>
                    <p style="margin-top: 15px; color: #28a745; font-size: 14px;">
                        ‚úÖ Setiap file punya ID unik 8 karakter di belakang title
                    </p>
                </div>
            </div>
        </div>
        
        <!-- PREVIEW ARTIKEL PERTAMA -->
        <div class="card" id="previewCard" style="display: none;">
            <h3 style="margin-bottom: 15px;">üîç PREVIEW ARTIKEL (FILE PERTAMA)</h3>
            <div id="previewContent" style="background: #f8f9fa; padding: 20px; border-radius: 12px; max-height: 400px; overflow-y: auto;"></div>
        </div>
    </div>

    <script>
        // ============================================
        // GOOGLE NEWS GENERATOR - ZIP DOWNLOAD VERSION
        // 1 KEYWORD = 10 HTML + ID UNIK 8 KARAKTER
        // ============================================
        
        const RSS2JSON_API = 'https://api.rss2json.com/v1/api.json?rss_url=';
        
        // Konfigurasi bahasa
        const languages = {
            id: { hl: 'id', gl: 'ID', ceid: 'ID:id', name: 'Indonesia' },
            us: { hl: 'en', gl: 'US', ceid: 'US:en', name: 'English (US)' },
            gb: { hl: 'en', gl: 'GB', ceid: 'GB:en', name: 'English (UK)' },
            jp: { hl: 'ja', gl: 'JP', ceid: 'JP:ja', name: 'Japanese' },
            sa: { hl: 'ar', gl: 'SA', ceid: 'SA:ar', name: 'Arabic' },
            fr: { hl: 'fr', gl: 'FR', ceid: 'FR:fr', name: 'French' },
            de: { hl: 'de', gl: 'DE', ceid: 'DE:de', name: 'German' }
        };
        
        // Generate ID unik 8 karakter (huruf + angka)
        function generateUniqueId() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let result = '';
            for (let i = 0; i < 8; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }
        
        async function generateAndZip() {
            const keyword = document.getElementById('keyword').value.trim();
            const langCode = document.getElementById('language').value;
            const jumlah = parseInt(document.getElementById('jumlah').value);
            const adsScript = document.getElementById('adsScript').value;
            const histatsScript = document.getElementById('histatsScript').value;
            
            if (!keyword) {
                alert('Masukkan keyword!');
                return;
            }
            
            // Reset & show progress
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('progressBar').style.display = 'block';
            document.getElementById('progressStatus').innerHTML = 'üì° Mengambil data dari Google News...';
            document.getElementById('progressFill').style.width = '20%';
            document.getElementById('progressPercent').innerHTML = '20%';
            
            try {
                // Ambil RSS Google News
                const lang = languages[langCode];
                const rssUrl = `https://news.google.com/rss/search?q=${encodeURIComponent(keyword)}&hl=${lang.hl}&gl=${lang.gl}&ceid=${lang.ceid}`;
                
                const response = await fetch(RSS2JSON_API + encodeURIComponent(rssUrl));
                const data = await response.json();
                
                if (data.status !== 'ok' || !data.items || data.items.length === 0) {
                    throw new Error('Tidak ada berita');
                }
                
                document.getElementById('progressStatus').innerHTML = '‚öôÔ∏è Membuat ' + jumlah + ' artikel HTML...';
                document.getElementById('progressFill').style.width = '50%';
                document.getElementById('progressPercent').innerHTML = '50%';
                
                // Ambil items secukupnya
                const items = data.items.slice(0, jumlah * 2);
                
                // Buat ZIP
                const zip = new JSZip();
                const articles = [];
                const idPreviews = [];
                
                // Buat folder untuk keyword
                const folderName = keyword.replace(/\s+/g, '-').toLowerCase();
                const folder = zip.folder(folderName);
                
                // Generate setiap artikel
                for (let i = 0; i < jumlah; i++) {
                    const randomItem = items[Math.floor(Math.random() * items.length)];
                    
                    // Ambil title asli
                    let originalTitle = randomItem.title || keyword;
                    if (originalTitle.includes(' - ')) {
                        originalTitle = originalTitle.split(' - ')[0].trim();
                    }
                    
                    // Generate ID UNIK 8 KARAKTER
                    const uniqueId = generateUniqueId();
                    
                    // TITLE AKHIR: Title Asli + [ID_UNIK]
                    const finalTitle = `${originalTitle} [${uniqueId}]`;
                    
                    // Source
                    let source = 'Google News';
                    if (randomItem.title) {
                        const match = randomItem.title.match(/- (.*?)$/);
                        if (match) source = match[1].trim();
                    }
                    
                    // Date
                    let pubDate = new Date().toLocaleDateString(
                        langCode === 'id' ? 'id-ID' : 'en-US', 
                        { day: 'numeric', month: 'long', year: 'numeric' }
                    );
                    if (randomItem.pubDate) {
                        const d = new Date(randomItem.pubDate);
                        pubDate = d.toLocaleDateString(
                            langCode === 'id' ? 'id-ID' : 'en-US', 
                            { day: 'numeric', month: 'long', year: 'numeric' }
                        );
                    }
                    
                    // Description
                    let description = randomItem.description || '';
                    description = description.replace(/<[^>]*>/g, '');
                    description = description.substring(0, 180) + '...';
                    
                    // Nama file: keyword-idunik.html
                    const fileName = `${folderName}-${uniqueId}.html`;
                    
                    // Buat HTML
                    const html = generateHTML(
                        finalTitle,
                        originalTitle,
                        uniqueId,
                        randomItem.link || '#',
                        source,
                        pubDate,
                        description,
                        keyword,
                        lang.name,
                        adsScript,
                        histatsScript
                    );
                    
                    // Tambah ke ZIP
                    folder.file(fileName, html);
                    
                    // Simpan untuk preview
                    articles.push({
                        fileName: fileName,
                        title: finalTitle,
                        original: originalTitle,
                        id: uniqueId
                    });
                    
                    idPreviews.push(`${folderName}-${uniqueId}.html`);
                    
                    // Update progress
                    const progress = 50 + ((i + 1) / jumlah * 40);
                    document.getElementById('progressFill').style.width = progress + '%';
                    document.getElementById('progressPercent').innerHTML = Math.round(progress) + '%';
                    document.getElementById('progressStatus').innerHTML = `‚öôÔ∏è Membuat file ${i+1}/${jumlah}...`;
                    
                    await new Promise(r => setTimeout(r, 30));
                }
                
                // Update preview ID
                document.getElementById('idPreview').innerHTML = idPreviews.slice(0, 5).map(f => 
                    `<div style="padding: 3px 0;">üìÑ ${f}</div>`
                ).join('');
                
                // Update file list
                const fileList = document.getElementById('fileList');
                fileList.innerHTML = articles.map(a => `
                    <div class="file-item">
                        <span style="color: #0a1929;">üìÑ</span>
                        <span style="font-family: monospace; flex: 1;">${a.fileName}</span>
                        <span style="color: #28a745; font-size: 12px;">${a.id}</span>
                    </div>
                `).join('');
                
                document.getElementById('fileCount').innerHTML = jumlah + ' files';
                
                // Buat sitemap.xml
                const sitemap = generateSitemap(articles, folderName);
                folder.file('sitemap.xml', sitemap);
                
                // Update file list dengan sitemap
                fileList.innerHTML += `
                    <div class="file-item" style="background: #e6f2ff;">
                        <span style="color: #17a2b8;">üó∫Ô∏è</span>
                        <span style="font-family: monospace; flex: 1;">sitemap.xml</span>
                        <span style="color: #17a2b8;">${articles.length} URLs</span>
                    </div>
                `;
                
                document.getElementById('fileCount').innerHTML = (jumlah + 1) + ' files';
                
                // Selesai
                document.getElementById('progressStatus').innerHTML = '‚úÖ Selesai! Mendownload ZIP...';
                document.getElementById('progressFill').style.width = '100%';
                document.getElementById('progressPercent').innerHTML = '100%';
                
                // Download ZIP
                const content = await zip.generateAsync({ type: 'blob' });
                saveAs(content, `${folderName}-${jumlah}-artikel-${Date.now()}.zip`);
                
                // Preview artikel pertama
                if (articles.length > 0) {
                    const firstArticle = articles[0];
                    document.getElementById('previewContent').innerHTML = `
                        <div style="background: white; padding: 20px; border-radius: 8px;">
                            <h3 style="margin-bottom: 15px;">${firstArticle.title}</h3>
                            <p style="color: #666; margin-bottom: 10px;">File: ${firstArticle.fileName}</p>
                            <p style="color: #28a745; margin-bottom: 15px;">ID Unik: ${firstArticle.id}</p>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <strong>Original Title:</strong> ${firstArticle.original}
                            </div>
                        </div>
                    `;
                    document.getElementById('previewCard').style.display = 'block';
                }
                
            } catch (error) {
                console.error(error);
                alert('Error: ' + error.message);
                document.getElementById('progressContainer').style.display = 'none';
            }
        }
        
        function generateHTML(title, originalTitle, uniqueId, link, source, pubDate, description, keyword, language, adsScript, histatsScript) {
            const year = new Date().getFullYear();
            
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title}</title>
    <meta name="description" content="${description.substring(0, 160)}">
    <meta name="keywords" content="${keyword}, ${keyword} news, ${keyword} ${year}">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://domain-anda.com/${keyword.replace(/\s+/g, '-')}-${uniqueId}.html">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: #f5f7fa; 
            color: #1a2634; 
            line-height: 1.7;
        }
        .container { max-width: 1000px; margin: 0 auto; padding: 30px 20px; }
        .article { 
            background: white; 
            border-radius: 20px; 
            padding: 40px; 
            box-shadow: 0 5px 20px rgba(0,0,0,0.02);
            border: 1px solid #edf2f7;
        }
        h1 { font-size: 2rem; margin-bottom: 20px; color: #0a1929; }
        .meta { 
            color: #5a6b7a; 
            margin-bottom: 25px; 
            padding-bottom: 20px; 
            border-bottom: 1px solid #edf2f7;
            display: flex;
            gap: 25px;
            font-size: 0.95rem;
        }
        .content { font-size: 1.05rem; color: #2d3a4b; }
        .sumber {
            background: #f8fafc;
            border-left: 4px solid #0a1929;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
        }
        .ads {
            margin: 30px 0;
            padding: 20px;
            background: #fff9e6;
            border: 1px solid #ffeeba;
            border-radius: 12px;
            text-align: center;
        }
        .id-badge {
            display: inline-block;
            background: #0a1929;
            color: white;
            padding: 4px 14px;
            border-radius: 30px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }
        .footer {
            margin-top: 40px;
            padding-top: 25px;
            border-top: 1px solid #edf2f7;
            color: #5a6b7a;
            font-size: 0.9rem;
            text-align: center;
        }
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .article { padding: 25px; }
            h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="article">
            <!-- ADS HEADER -->
            <div class="ads" style="margin-top: 0;">
                ${adsScript}
            </div>
            
            <span class="id-badge">üî¢ ID: ${uniqueId}</span>
            <h1>${title}</h1>
            
            <div class="meta">
                <span>üì∞ ${source}</span>
                <span>üìÖ ${pubDate}</span>
                <span>üåê ${language}</span>
            </div>
            
            <div class="content">
                <p style="font-size: 1.1rem; color: #0a1929; font-weight: 500;">
                    ${description}
                </p>
                
                <div class="sumber">
                    <p style="font-weight: 700; margin-bottom: 12px;">üîó Sumber Asli:</p>
                    <a href="${link}" target="_blank" rel="nofollow sponsored" style="color: #0066cc; word-break: break-all;">
                        ${link}
                    </a>
                    <p style="margin-top: 15px; color: #5a6b7a; font-size: 0.95rem;">
                        ‚ö†Ô∏è Artikel ini adalah ringkasan. Hak cipta milik sumber asli.
                    </p>
                </div>
            </div>
            
            <!-- ADS MIDDLE -->
            <div class="ads">
                ${adsScript}
            </div>
            
            <div class="footer">
                <p>¬© ${year} News Portal - ${language}</p>
                <p style="margin-top: 8px; font-size: 0.8rem;">ID: ${uniqueId} ‚Ä¢ Sumber: Google News</p>
            </div>
        </div>
    </div>
    
    <!-- HISTATS COUNTER -->
    ${histatsScript}
</body>
</html>`;
        }
        
        function generateSitemap(articles, folderName) {
            let urls = '';
            articles.forEach(article => {
                urls += `  <url>
    <loc>https://domain-anda.com/${article.fileName}</loc>
    <lastmod>${new Date().toISOString().split('T')[0]}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.7</priority>
  </url>\n`;
            });
            
            return `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${urls}</urlset>`;
        }
    </script>
</body>
</html>
