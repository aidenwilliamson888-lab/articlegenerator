<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âš¡ GOOGLE NEWS PRO - GAMBAR KEYWORD + BAHASA ASLI</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: #f0f4f8; 
            padding: 30px 20px;
            color: #1a2639;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        .header {
            background: linear-gradient(145deg, #0a1a2f, #0e2a47);
            color: white;
            border-radius: 28px;
            padding: 40px 45px;
            margin-bottom: 35px;
            box-shadow: 0 20px 35px rgba(0,20,40,0.25);
        }
        h1 { font-size: 2.6rem; font-weight: 700; margin-bottom: 12px; }
        .badge-group { display: flex; gap: 15px; flex-wrap: wrap; margin-top: 20px; }
        .badge {
            background: rgba(255,255,255,0.12);
            padding: 8px 22px;
            border-radius: 60px;
            font-weight: 600;
            font-size: 0.9rem;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .grid-main {
            display: grid;
            grid-template-columns: 1.1fr 1.4fr;
            gap: 30px;
        }
        @media (max-width: 1100px) { .grid-main { grid-template-columns: 1fr; } }
        
        .card {
            background: white;
            border-radius: 24px;
            padding: 35px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.02);
            border: 1px solid #e9edf4;
        }
        .card h2 {
            font-size: 1.6rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 14px;
            border-bottom: 1px solid #eef2f6;
            padding-bottom: 20px;
            color: #0a1a2f;
        }
        
        .form-group { margin-bottom: 25px; }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #2c3e50;
        }
        input, select, textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #dfe5ec;
            border-radius: 16px;
            font-size: 1rem;
            transition: 0.2s;
            background: #fafcff;
            font-family: inherit;
        }
        input:focus, select:focus, textarea:focus {
            border-color: #0a1a2f;
            outline: none;
            background: white;
        }
        
        .domain-row {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        .domain-prefix {
            background: #e9edf4;
            padding: 15px 20px;
            border-radius: 16px;
            color: #3a4e62;
            font-weight: 500;
            border: 2px solid #dfe5ec;
        }
        
        .btn {
            background: #0a1a2f;
            color: white;
            border: none;
            padding: 18px 32px;
            border-radius: 60px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
        }
        .btn:hover {
            background: #1e3a5a;
            transform: translateY(-3px);
            box-shadow: 0 20px 30px rgba(10,26,47,0.2);
        }
        
        .file-list {
            background: #f8fbfe;
            border-radius: 20px;
            padding: 20px;
            max-height: 380px;
            overflow-y: auto;
            border: 1px solid #e0e8f0;
            font-family: monospace;
        }
        .file-item {
            padding: 12px 16px;
            border-bottom: 1px solid #edf2f7;
            display: flex;
            align-items: center;
            gap: 14px;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e2ecf5;
            border-radius: 20px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0a1a2f, #2c7da0);
            width: 0%;
            transition: width 0.25s;
        }
        
        .language-badge {
            display: inline-block;
            padding: 4px 14px;
            border-radius: 30px;
            font-size: 0.75rem;
            font-weight: 700;
            background: #0a1a2f;
            color: white;
            margin-right: 8px;
        }
    </style>
    
    <!-- JSZip + FileSaver -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>ğŸŒ GOOGLE NEWS Â· MULTI BAHASA</h1>
            <p style="font-size: 1.2rem; color: #b0d4f0;">Gambar sesuai keyword â€¢ Konten asli sesuai bahasa pilihan</p>
            <div class="badge-group">
                <span class="badge">ğŸ–¼ï¸ Gambar Unsplash/Pexels</span>
                <span class="badge">ğŸŒ 7 Bahasa (ID/EN/JP/AR/FR/DE)</span>
                <span class="badge">ğŸ“„ Konten asli dari Google News</span>
            </div>
        </div>

        <!-- MAIN GRID -->
        <div class="grid-main">
            <!-- LEFT PANEL - KONFIGURASI -->
            <div class="card">
                <h2><span>âš™ï¸</span> 1. Konfigurasi</h2>
                
                <!-- KEYWORD -->
                <div class="form-group">
                    <label>ğŸ”‘ Keyword Utama</label>
                    <input type="text" id="keyword" value="artificial intelligence" placeholder="Contoh: cryptocurrency, climate change">
                </div>
                
                <!-- DOMAIN -->
                <div class="form-group">
                    <label>ğŸŒ Domain</label>
                    <div class="domain-row">
                        <span class="domain-prefix">https://</span>
                        <input type="text" id="domain" value="yournewsportal.com" placeholder="domainkamu.com">
                    </div>
                </div>
                
                <!-- BAHASA & JUMLAH -->
                <div style="display: flex; gap: 20px;">
                    <div style="flex: 1;">
                        <label>ğŸŒ Bahasa</label>
                        <select id="language">
                            <option value="id">ğŸ‡®ğŸ‡© Indonesia</option>
                            <option value="us" selected>ğŸ‡ºğŸ‡¸ English (US)</option>
                            <option value="gb">ğŸ‡¬ğŸ‡§ English (UK)</option>
                            <option value="jp">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                            <option value="sa">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                            <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                            <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                        </select>
                    </div>
                    <div style="flex: 1;">
                        <label>ğŸ“„ Jumlah</label>
                        <select id="jumlah">
                            <option value="5">5 artikel</option>
                            <option value="10" selected>10 artikel</option>
                            <option value="15">15 artikel</option>
                            <option value="20">20 artikel</option>
                        </select>
                    </div>
                </div>
                
                <!-- ADS SCRIPT -->
                <div style="background: #fffaf0; border: 1px dashed #f5b042; border-radius: 20px; padding: 25px; margin: 30px 0;">
                    <label style="color: #b45f06;">ğŸ“¢ ADS SCRIPT</label>
                    <textarea id="adsScript" rows="3" placeholder="&lt;!-- Script iklan Adsterra/Adsense --&gt;">&lt;div style=&quot;background: #1a2e3f; color: white; padding: 24px; border-radius: 16px; text-align: center;&quot;&gt;
    &lt;strong&gt;ğŸ“¢ IKLAN ANDA DI SINI&lt;/strong&gt;
&lt;/div&gt;</textarea>
                </div>
                
                <!-- HISTATS SCRIPT -->
                <div style="background: #f0f9ff; border: 1px dashed #2c7da0; border-radius: 20px; padding: 25px; margin: 30px 0;">
                    <label style="color: #0e4a5e;">ğŸ“Š HISTATS COUNTER</label>
                    <textarea id="histatsScript" rows="3">&lt;!-- Histats.com START --&gt;
&lt;script&gt;
_Hasync.push([&apos;Histats.start&apos;, &apos;1,1234567,4,0,0,0,00000000&apos;]);
_Hasync.push([&apos;Histats.fasi&apos;, &apos;1&apos;]);
_Hasync.push([&apos;Histats.track_hits&apos;, &apos;&apos;]);
(function() {
  var hs = document.createElement(&apos;script&apos;); hs.async = true;
  hs.src = &apos;//s10.histats.com/js15_as.js&apos;;
  document.head.appendChild(hs);
})();
&lt;/script&gt;
&lt;!-- Histats.com END --&gt;</textarea>
                </div>
                
                <!-- TOMBOL GENERATE -->
                <button onclick="generateNews()" class="btn" style="background: #0a1a2f;">
                    âš¡ GENERATE & DOWNLOAD ZIP
                </button>
                <p style="text-align: center; margin-top: 20px; color: #1e824c; font-weight: 600;">
                    âœ… Gambar dari Unsplash Â· Konten sesuai bahasa pilihan
                </p>
            </div>
            
            <!-- RIGHT PANEL - PREVIEW -->
            <div class="card">
                <h2><span>ğŸ“‹</span> 2. Live Preview</h2>
                
                <!-- PROGRESS -->
                <div id="progressBlock" style="display: none;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <span id="progressStatus" style="font-weight: 600;">Memproses...</span>
                        <span id="progressPercent" style="font-weight: 700;">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                    </div>
                </div>
                
                <!-- FILE LIST -->
                <div style="margin: 0 0 25px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        <span style="font-weight: 700;">ğŸ“ File dalam ZIP</span>
                        <span id="fileCounter" style="background: #0a1a2f; color: white; padding: 4px 16px; border-radius: 60px; font-size: 0.8rem;">0 file</span>
                    </div>
                    <div class="file-list" id="fileListContainer">
                        <div class="file-item" style="color: #6c7a89;">â³ Generate untuk melihat daftar file...</div>
                    </div>
                </div>
                
                <!-- PREVIEW ARTIKEL -->
                <div style="margin-top: 25px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 18px;">
                        <span style="background: #0a1a2f; color: white; padding: 6px 18px; border-radius: 60px; font-size: 0.8rem;">ğŸ” PREVIEW ARTIKEL</span>
                        <span id="previewLanguage" style="color: #2c5a7a;">ğŸ‡ºğŸ‡¸ English (US)</span>
                    </div>
                    <div id="articlePreviewArea" style="background: #f8fbfe; border-radius: 20px; padding: 25px; border: 1px solid #e0e8f0; min-height: 200px;">
                        <div style="display: flex; align-items: center; justify-content: center; color: #6c7a89; padding: 30px;">
                            â³ Generate untuk preview artikel pertama
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // GOOGLE NEWS PRO - MULTI BAHASA + GAMBAR KEYWORD
        // ============================================
        
        const RSS2JSON_API = 'https://api.rss2json.com/v1/api.json?rss_url=';
        
        // KONFIGURASI BAHASA
        const LANG_CONFIG = {
            id: { 
                hl: 'id', gl: 'ID', ceid: 'ID:id', 
                name: 'Indonesia', 
                code: 'id-ID',
                unsplashLang: 'id',
                pexelsLang: 'id'
            },
            us: { 
                hl: 'en', gl: 'US', ceid: 'US:en', 
                name: 'English (US)', 
                code: 'en-US',
                unsplashLang: 'en',
                pexelsLang: 'en'
            },
            gb: { 
                hl: 'en', gl: 'GB', ceid: 'GB:en', 
                name: 'English (UK)', 
                code: 'en-GB',
                unsplashLang: 'en',
                pexelsLang: 'en'
            },
            jp: { 
                hl: 'ja', gl: 'JP', ceid: 'JP:ja', 
                name: 'Japanese', 
                code: 'ja-JP',
                unsplashLang: 'ja',
                pexelsLang: 'ja'
            },
            sa: { 
                hl: 'ar', gl: 'SA', ceid: 'SA:ar', 
                name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', 
                code: 'ar-SA',
                unsplashLang: 'ar',
                pexelsLang: 'ar'
            },
            fr: { 
                hl: 'fr', gl: 'FR', ceid: 'FR:fr', 
                name: 'FranÃ§ais', 
                code: 'fr-FR',
                unsplashLang: 'fr',
                pexelsLang: 'fr'
            },
            de: { 
                hl: 'de', gl: 'DE', ceid: 'DE:de', 
                name: 'Deutsch', 
                code: 'de-DE',
                unsplashLang: 'de',
                pexelsLang: 'de'
            }
        };
        
        // UNSplash API - GRATIS, TANPA API KEY (pakik source.unsplash.com)
        function getUnsplashImage(keyword, langCode) {
            const encoded = encodeURIComponent(keyword);
            // Format: https://source.unsplash.com/featured/1200x800/?keyword
            return `https://source.unsplash.com/featured/1200x800/?${encoded}`;
        }
        
        // Pexels API - GRATIS PAKAI PROXY (pakai placeholder dulu, fallback ke unsplash)
        function getImageUrl(keyword) {
            // Gunakan Unsplash (gratis, tanpa API key, working 100%)
            return getUnsplashImage(keyword);
        }
        
        // GENERATE ID 8 KARAKTER
        function generateID() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789';
            let id = '';
            for (let i = 0; i < 8; i++) id += chars.charAt(Math.floor(Math.random() * chars.length));
            return id;
        }
        
        // CLEAN HTML TAGS
        function stripHTML(html) {
            return html.replace(/<[^>]*>/g, '');
        }
        
        // GENERATE FULL HTML DENGAN BAHASA ASLI
        function generateHTML(article, domain, keyword, langConfig, adsScript, histatsScript) {
            const uniqueId = article.uniqueId;
            const year = new Date().getFullYear();
            
            // Format tanggal sesuai bahasa
            const dateStr = new Date(article.pubDate).toLocaleDateString(langConfig.code, {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            
            // Gambar sesuai keyword
            const imageUrl = getImageUrl(keyword);
            
            // Clean content - ambil dari description/content asli
            let cleanContent = '';
            if (article.content) {
                cleanContent = stripHTML(article.content);
            } else if (article.description) {
                cleanContent = stripHTML(article.description);
            } else {
                // Fallback berdasarkan bahasa
                if (langConfig.code === 'id-ID') {
                    cleanContent = 'Berita ini sedang berkembang. Silakan kunjungi sumber asli untuk informasi lebih lanjut.';
                } else if (langConfig.code === 'ja-JP') {
                    cleanContent = 'ã“ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã¯ç¾åœ¨é€²è¡Œä¸­ã§ã™ã€‚è©³ç´°ã«ã¤ã„ã¦ã¯ã€å…ƒã®ã‚½ãƒ¼ã‚¹ã‚’ã”è¦§ãã ã•ã„ã€‚';
                } else if (langConfig.code === 'ar-SA') {
                    cleanContent = 'Ù‡Ø°Ø§ Ø§Ù„Ø®Ø¨Ø± Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø£ØµÙ„ÙŠ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.';
                } else {
                    cleanContent = 'This news is developing. Please visit the original source for more information.';
                }
            }
            
            // Split content jadi paragraf
            const paragraphs = cleanContent.split('\n').filter(p => p.trim().length > 0);
            let contentHTML = '';
            
            if (paragraphs.length > 0) {
                // Ambil 3-5 paragraf pertama
                const maxParas = Math.min(paragraphs.length, 5);
                for (let i = 0; i < maxParas; i++) {
                    contentHTML += `<p>${paragraphs[i]}</p>\n`;
                }
            } else {
                // Fallback content berdasarkan bahasa
                if (langConfig.code === 'id-ID') {
                    contentHTML = `<p>${article.description || 'Berita ini membahas perkembangan terbaru seputar ' + keyword + '. Para ahli terus memantau situasi dan akan memberikan update selanjutnya.'}</p>`;
                } else if (langConfig.code === 'ja-JP') {
                    contentHTML = `<p>${article.description || 'ã“ã®è¨˜äº‹ã¯' + keyword + 'ã«é–¢ã™ã‚‹æœ€æ–°æƒ…å ±ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚å°‚é–€å®¶ãŒçŠ¶æ³ã‚’åˆ†æã—ã€æœ€æ–°ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚'}</p>`;
                } else if (langConfig.code === 'ar-SA') {
                    contentHTML = `<p>${article.description || 'ØªÙ‚Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ø¢Ø®Ø± Ø§Ù„ØªØ·ÙˆØ±Ø§Øª Ø­ÙˆÙ„ ' + keyword + '. ÙŠÙˆØ§ØµÙ„ Ø§Ù„Ø®Ø¨Ø±Ø§Ø¡ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ÙˆØ¶Ø¹ ÙˆØ³ÙŠÙ‚Ø¯Ù…ÙˆÙ† ØªØ­Ø¯ÙŠØ«Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©.'}</p>`;
                } else {
                    contentHTML = `<p>${article.description || 'This article covers the latest developments in ' + keyword + '. Experts continue to monitor the situation and will provide further updates.'}</p>`;
                }
            }
            
            return `<!DOCTYPE html>
<html lang="${langConfig.code}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${article.title} [${uniqueId}]</title>
    <meta name="description" content="${stripHTML(article.description || article.content || '').substring(0, 160)}">
    <meta name="keywords" content="${keyword}, ${keyword} news, ${keyword} ${year}">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://${domain}/${keyword.replace(/\s+/g, '-')}-${uniqueId}.html">
    
    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://${domain}/${keyword.replace(/\s+/g, '-')}-${uniqueId}.html">
    <meta property="og:title" content="${article.title} [${uniqueId}]">
    <meta property="og:description" content="${stripHTML(article.description || article.content || '').substring(0, 160)}">
    <meta property="og:image" content="${imageUrl}">
    <meta property="og:locale" content="${langConfig.code}">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="${article.title} [${uniqueId}]">
    <meta name="twitter:description" content="${stripHTML(article.description || article.content || '').substring(0, 160)}">
    <meta name="twitter:image" content="${imageUrl}">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f9ff;
            color: #1a2b3c;
            line-height: 1.7;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 30px 20px; }
        .article-card {
            background: white;
            border-radius: 32px;
            padding: 45px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.02);
            border: 1px solid #edf2f9;
        }
        .hero-image {
            width: 100%;
            max-height: 500px;
            object-fit: cover;
            border-radius: 24px;
            margin-bottom: 35px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.05);
        }
        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #0a1a2f;
            line-height: 1.3;
        }
        .id-badge {
            display: inline-block;
            background: #0a1a2f;
            color: white;
            padding: 6px 20px;
            border-radius: 60px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 20px;
            letter-spacing: 0.5px;
        }
        .meta-info {
            display: flex;
            gap: 30px;
            color: #4f6f8f;
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid #ecf3fa;
            font-size: 0.95rem;
        }
        .content {
            font-size: 1.05rem;
            color: #2c3e50;
        }
        .content p {
            margin-bottom: 24px;
        }
        .source-box {
            background: #f1f9fe;
            border-radius: 20px;
            padding: 28px;
            margin: 40px 0 30px;
            border-left: 5px solid #0a1a2f;
        }
        .ads-container {
            margin: 40px 0;
            padding: 25px;
            background: #fef9e7;
            border-radius: 20px;
            text-align: center;
            border: 1px dashed #f5b042;
        }
        .footer {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid #ecf3fa;
            color: #4f6f8f;
            font-size: 0.9rem;
            text-align: center;
        }
        @media (max-width: 768px) {
            .article-card { padding: 25px; }
            h1 { font-size: 1.6rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="article-card">
            
            <!-- ADS HEADER -->
            <div class="ads-container" style="margin-top: 0;">
                ${adsScript}
            </div>
            
            <!-- ID BADGE -->
            <span class="id-badge">ğŸ”¢ ID: ${uniqueId}</span>
            
            <!-- JUDUL -->
            <h1>${article.title}</h1>
            
            <!-- METADATA -->
            <div class="meta-info">
                <span>ğŸ“° ${article.source || 'Google News'}</span>
                <span>ğŸ“… ${dateStr}</span>
                <span>ğŸŒ ${langConfig.name}</span>
            </div>
            
            <!-- HERO IMAGE - SESUAI KEYWORD -->
            <img class="hero-image" src="${imageUrl}" alt="${keyword}" loading="lazy">
            
            <!-- KONTEN ARTIKEL - BAHASA ASLI DARI GOOGLE NEWS -->
            <div class="content">
                ${contentHTML}
            </div>
            
            <!-- SUMBER ASLI -->
            <div class="source-box">
                <p style="font-weight: 700; margin-bottom: 15px;">
                    ${langConfig.code === 'id-ID' ? 'ğŸ”— Sumber asli:' : 
                      langConfig.code === 'ja-JP' ? 'ğŸ”— å…ƒã®ã‚½ãƒ¼ã‚¹:' :
                      langConfig.code === 'ar-SA' ? 'ğŸ”— Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø£ØµÙ„ÙŠ:' :
                      langConfig.code === 'fr-FR' ? 'ğŸ”— Source originale:' :
                      langConfig.code === 'de-DE' ? 'ğŸ”— Originalquelle:' : 'ğŸ”— Original source:'}
                </p>
                <a href="${article.link}" class="source-link" target="_blank" rel="nofollow sponsored" style="color: #0f5b8c; word-break: break-all; text-decoration: none; font-weight: 600;">
                    ${article.link}
                </a>
                <p style="margin-top: 18px; color: #3a5e6e; font-size: 0.95rem;">
                    ${langConfig.code === 'id-ID' ? 'âš ï¸ Hak cipta milik sumber asli. Artikel ini adalah ringkasan.' :
                      langConfig.code === 'ja-JP' ? 'âš ï¸ è‘—ä½œæ¨©ã¯å…ƒã®ã‚½ãƒ¼ã‚¹ã«å¸°å±ã—ã¾ã™ã€‚ã“ã®è¨˜äº‹ã¯è¦ç´„ã§ã™ã€‚' :
                      langConfig.code === 'ar-SA' ? 'âš ï¸ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø·Ø¨Ø¹ ÙˆØ§Ù„Ù†Ø´Ø± Ù„Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø£ØµÙ„ÙŠ. Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† Ù…Ù„Ø®Øµ.' :
                      langConfig.code === 'fr-FR' ? 'âš ï¸ Les droits d\'auteur appartiennent Ã  la source originale. Cet article est un rÃ©sumÃ©.' :
                      langConfig.code === 'de-DE' ? 'âš ï¸ Das Urheberrecht liegt bei der Originalquelle. Dieser Artikel ist eine Zusammenfassung.' :
                      'âš ï¸ Copyright belongs to the original source. This article is a summary.'}
                </p>
            </div>
            
            <!-- ADS MIDDLE -->
            <div class="ads-container">
                ${adsScript}
            </div>
            
            <!-- FOOTER -->
            <div class="footer">
                <p>Â© ${year} ${domain}</p>
                <p style="margin-top: 8px; font-size: 0.8rem; color: #8a9db0;">ID: ${uniqueId} Â· Sumber: Google News</p>
            </div>
        </div>
    </div>
    
    <!-- HISTATS COUNTER -->
    ${histatsScript}
</body>
</html>`;
        }
        
        // GENERATE SITEMAP
        function generateSitemap(articles, domain, keyword) {
            let urls = '';
            articles.forEach(a => {
                urls += `  <url>
    <loc>https://${domain}/${keyword.replace(/\s+/g, '-')}-${a.uniqueId}.html</loc>
    <lastmod>${new Date().toISOString().split('T')[0]}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.7</priority>
  </url>\n`;
            });
            return `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${urls}</urlset>`;
        }
        
        // MAIN GENERATOR
        async function generateNews() {
            const keyword = document.getElementById('keyword').value.trim();
            const domain = document.getElementById('domain').value.trim().replace(/^https?:\/\//, '').replace(/\/$/, '');
            const langCode = document.getElementById('language').value;
            const jumlah = parseInt(document.getElementById('jumlah').value);
            const adsScript = document.getElementById('adsScript').value;
            const histatsScript = document.getElementById('histatsScript').value;
            
            if (!keyword || !domain) {
                alert('Keyword dan Domain wajib diisi!');
                return;
            }
            
            // Show progress
            document.getElementById('progressBlock').style.display = 'block';
            document.getElementById('progressFill').style.width = '10%';
            document.getElementById('progressPercent').innerHTML = '10%';
            document.getElementById('progressStatus').innerHTML = 'ğŸ“¡ Mengambil berita dari Google News...';
            
            try {
                const lang = LANG_CONFIG[langCode];
                document.getElementById('previewLanguage').innerHTML = `ğŸŒ ${lang.name}`;
                
                // Ambil RSS Google News sesuai bahasa
                const rssUrl = `https://news.google.com/rss/search?q=${encodeURIComponent(keyword)}&hl=${lang.hl}&gl=${lang.gl}&ceid=${lang.ceid}`;
                const response = await fetch(RSS2JSON_API + encodeURIComponent(rssUrl));
                const data = await response.json();
                
                if (data.status !== 'ok' || !data.items || data.items.length === 0) {
                    throw new Error('Tidak ada berita untuk keyword ini');
                }
                
                document.getElementById('progressStatus').innerHTML = 'ğŸ–¼ï¸ Menyiapkan gambar sesuai keyword...';
                document.getElementById('progressFill').style.width = '30%';
                document.getElementById('progressPercent').innerHTML = '30%';
                
                const items = data.items.slice(0, jumlah * 2);
                const zip = new JSZip();
                const folderName = keyword.replace(/\s+/g, '-').toLowerCase();
                const folder = zip.folder(folderName);
                
                const articles = [];
                const fileList = [];
                
                for (let i = 0; i < jumlah; i++) {
                    const randomItem = items[Math.floor(Math.random() * items.length)];
                    
                    // Title asli
                    let title = randomItem.title || keyword;
                    if (title.includes(' - ')) {
                        title = title.split(' - ')[0].trim();
                    }
                    
                    // Source
                    let source = 'Google News';
                    if (randomItem.title) {
                        const match = randomItem.title.match(/- (.*?)$/);
                        if (match) source = match[1].trim();
                    }
                    
                    // Unique ID
                    const uniqueId = generateID();
                    const fileName = `${folderName}-${uniqueId}.html`;
                    
                    const article = {
                        title: title,
                        uniqueId: uniqueId,
                        link: randomItem.link || '#',
                        source: source,
                        description: randomItem.description || '',
                        content: randomItem.content || randomItem.description || '',
                        pubDate: randomItem.pubDate || new Date().toISOString()
                    };
                    
                    // Generate HTML dengan bahasa yang dipilih
                    const html = generateHTML(
                        article, domain, keyword, lang,
                        adsScript, histatsScript
                    );
                    
                    folder.file(fileName, html);
                    articles.push(article);
                    fileList.push({ name: fileName, id: uniqueId });
                    
                    // Update progress
                    const progress = 30 + ((i + 1) / jumlah * 60);
                    document.getElementById('progressFill').style.width = progress + '%';
                    document.getElementById('progressPercent').innerHTML = Math.round(progress) + '%';
                    document.getElementById('progressStatus').innerHTML = `ğŸ“ Membuat artikel ${i+1}/${jumlah} (${lang.name})...`;
                    
                    await new Promise(r => setTimeout(r, 20));
                }
                
                // SITEMAP
                const sitemap = generateSitemap(articles, domain, keyword);
                folder.file('sitemap.xml', sitemap);
                
                // Update file list
                let flHtml = '';
                fileList.slice(0, 8).forEach(f => {
                    flHtml += `<div class="file-item">
                        <span style="color: #0a1a2f;">ğŸ“„</span>
                        <span style="font-family: monospace; flex: 1;">${f.name}</span>
                        <span style="color: #1e824c; font-size: 0.75rem; background: #e8f5e9; padding: 4px 10px; border-radius: 30px;">${f.id}</span>
                    </div>`;
                });
                if (fileList.length > 8) {
                    flHtml += `<div class="file-item" style="color: #4f6f8f;">... dan ${fileList.length - 8} file lainnya</div>`;
                }
                flHtml += `<div class="file-item" style="background: #e3f2fd;">
                    <span style="color: #0f5b8c;">ğŸ—ºï¸</span>
                    <span style="font-family: monospace; flex: 1;">sitemap.xml</span>
                    <span style="color: #0f5b8c; font-size: 0.75rem;">${articles.length} URLs</span>
                </div>`;
                
                document.getElementById('fileListContainer').innerHTML = flHtml;
                document.getElementById('fileCounter').innerHTML = (fileList.length + 1) + ' file';
                
                // PREVIEW ARTIKEL PERTAMA
                if (articles.length > 0) {
                    const first = articles[0];
                    const previewDate = new Date(first.pubDate).toLocaleDateString(lang.code, {
                        day: 'numeric', month: 'long', year: 'numeric'
                    });
                    
                    let previewDesc = '';
                    if (first.content) {
                        previewDesc = stripHTML(first.content).substring(0, 180) + '...';
                    } else if (first.description) {
                        previewDesc = stripHTML(first.description).substring(0, 180) + '...';
                    }
                    
                    const previewHtml = `
                        <div style="display: flex; gap: 25px; flex-wrap: wrap;">
                            <div style="flex: 0 0 200px;">
                                <img src="${getImageUrl(keyword)}" style="width: 100%; height: 140px; object-fit: cover; border-radius: 16px; border: 1px solid #d0e0f0;">
                                <p style="font-size: 0.7rem; color: #4f6f8f; margin-top: 8px; text-align: center;">ğŸ–¼ï¸ Unsplash Â· ${keyword}</p>
                            </div>
                            <div style="flex: 1;">
                                <div style="display: flex; gap: 12px; align-items: center; margin-bottom: 12px;">
                                    <span style="background: #0a1a2f; color: white; padding: 4px 16px; border-radius: 60px; font-size: 0.7rem;">ğŸ”¢ ID: ${first.uniqueId}</span>
                                    <span style="background: #f5b042; padding: 4px 16px; border-radius: 60px; font-size: 0.7rem; font-weight: bold;">ğŸŒ ${lang.name}</span>
                                </div>
                                <h3 style="font-size: 1.2rem; margin-bottom: 10px; color: #0a1a2f;">${first.title}</h3>
                                <p style="color: #2c5a7a; margin-bottom: 12px; font-size: 0.9rem;">ğŸ“° ${first.source} Â· ${previewDate}</p>
                                <p style="color: #2c3e50; font-size: 0.95rem; background: white; padding: 15px; border-radius: 12px; border: 1px solid #e0e8f0;">
                                    ${previewDesc || 'Konten berita asli sesuai bahasa pilihan...'}
                                </p>
                                <p style="margin-top: 12px; color: #1e824c; font-size: 0.85rem;">
                                    âœ… Konten asli dari Google News (${lang.name}) Â· Gambar dari Unsplash
                                </p>
                            </div>
                        </div>
                    `;
                    document.getElementById('articlePreviewArea').innerHTML = previewHtml;
                }
                
                // COMPLETE - DOWNLOAD ZIP
                document.getElementById('progressStatus').innerHTML = 'âœ… Selesai! Mendownload ZIP...';
                document.getElementById('progressFill').style.width = '100%';
                document.getElementById('progressPercent').innerHTML = '100%';
                
                const zipBlob = await zip.generateAsync({ type: 'blob' });
                saveAs(zipBlob, `${folderName}-${jumlah}artikel-${langCode}-${Date.now()}.zip`);
                
            } catch (error) {
                console.error(error);
                alert('âŒ Error: ' + error.message);
                document.getElementById('progressBlock').style.display = 'none';
            }
        }
    </script>
</body>
</html>
