<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âš¡ GOOGLE NEWS FINAL - BAHASA 100% SESUAI + GAMBAR GOOGLE NEWS</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: #f0f4f8; 
            padding: 30px 20px;
            color: #1a2639;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        .header {
            background: linear-gradient(145deg, #0a1a2f, #0e2a47);
            color: white;
            border-radius: 28px;
            padding: 40px 45px;
            margin-bottom: 35px;
        }
        h1 { font-size: 2.6rem; font-weight: 700; margin-bottom: 12px; }
        .badge {
            background: rgba(255,255,255,0.12);
            padding: 8px 22px;
            border-radius: 60px;
            font-weight: 600;
            font-size: 0.9rem;
            display: inline-block;
            margin-right: 12px;
        }
        .grid-main {
            display: grid;
            grid-template-columns: 1.1fr 1.4fr;
            gap: 30px;
        }
        @media (max-width: 1100px) { .grid-main { grid-template-columns: 1fr; } }
        .card {
            background: white;
            border-radius: 24px;
            padding: 35px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.02);
            border: 1px solid #e9edf4;
        }
        .card h2 {
            font-size: 1.6rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 14px;
            border-bottom: 1px solid #eef2f6;
            padding-bottom: 20px;
        }
        .form-group { margin-bottom: 25px; }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #2c3e50;
        }
        input, select, textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #dfe5ec;
            border-radius: 16px;
            font-size: 1rem;
            background: #fafcff;
        }
        .domain-row {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        .domain-prefix {
            background: #e9edf4;
            padding: 15px 20px;
            border-radius: 16px;
            color: #3a4e62;
            font-weight: 500;
            border: 2px solid #dfe5ec;
        }
        .btn {
            background: #0a1a2f;
            color: white;
            border: none;
            padding: 18px 32px;
            border-radius: 60px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
        }
        .btn:hover {
            background: #1e3a5a;
            transform: translateY(-3px);
        }
        .file-list {
            background: #f8fbfe;
            border-radius: 20px;
            padding: 20px;
            max-height: 380px;
            overflow-y: auto;
            border: 1px solid #e0e8f0;
            font-family: monospace;
        }
        .file-item {
            padding: 12px 16px;
            border-bottom: 1px solid #edf2f7;
            display: flex;
            align-items: center;
            gap: 14px;
        }
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e2ecf5;
            border-radius: 20px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0a1a2f, #2c7da0);
            width: 0%;
            transition: width 0.25s;
        }
        .preview-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 12px;
            border: 1px solid #d0e0f0;
        }
    </style>
    
    <!-- JSZip + FileSaver -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>ğŸŒ GOOGLE NEWS FINAL Â· BAHASA 100% ORIGINAL</h1>
            <p style="font-size: 1.2rem; color: #b0d4f0; margin-bottom: 20px;">
                âœ“ Gambar thumbnail dari Google News â€¢ âœ“ Konten asli 100% sesuai bahasa â€¢ âœ“ Tidak ada campur aduk
            </p>
            <div>
                <span class="badge">ğŸ–¼ï¸ THUMBNAIL GOOGLE NEWS</span>
                <span class="badge">ğŸ“„ KONTEN ASLI RSS</span>
                <span class="badge">ğŸŒ 7 BAHASA MURNI</span>
                <span class="badge">âš¡ ZIP INSTAN</span>
            </div>
        </div>

        <!-- MAIN GRID -->
        <div class="grid-main">
            <!-- LEFT PANEL - KONFIGURASI -->
            <div class="card">
                <h2><span>âš™ï¸</span> 1. Konfigurasi Final</h2>
                
                <!-- KEYWORD -->
                <div class="form-group">
                    <label>ğŸ”‘ Keyword Utama</label>
                    <input type="text" id="keyword" value="bitcoin price" placeholder="Contoh: bitcoin price, ai, cryptocurrency">
                </div>
                
                <!-- DOMAIN -->
                <div class="form-group">
                    <label>ğŸŒ Domain</label>
                    <div class="domain-row">
                        <span class="domain-prefix">https://</span>
                        <input type="text" id="domain" value="yournewsportal.com" placeholder="domainkamu.com">
                    </div>
                </div>
                
                <!-- BAHASA & JUMLAH -->
                <div style="display: flex; gap: 20px;">
                    <div style="flex: 1;">
                        <label>ğŸŒ Pilih Bahasa (WAJIB)</label>
                        <select id="language">
                            <option value="id">ğŸ‡®ğŸ‡© Indonesia - Berita Indonesia</option>
                            <option value="us" selected>ğŸ‡ºğŸ‡¸ English US - US News</option>
                            <option value="gb">ğŸ‡¬ğŸ‡§ English UK - UK News</option>
                            <option value="jp">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª - Japanese News</option>
                            <option value="sa">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - Arabic News</option>
                            <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais - French News</option>
                            <option value="de">ğŸ‡©ğŸ‡ª Deutsch - German News</option>
                        </select>
                    </div>
                    <div style="flex: 1;">
                        <label>ğŸ“„ Jumlah Artikel</label>
                        <select id="jumlah">
                            <option value="5">5 artikel</option>
                            <option value="10" selected>10 artikel</option>
                            <option value="15">15 artikel</option>
                            <option value="20">20 artikel</option>
                        </select>
                    </div>
                </div>
                
                <!-- ADS SCRIPT -->
                <div style="background: #fffaf0; border: 1px dashed #f5b042; border-radius: 20px; padding: 25px; margin: 30px 0;">
                    <label style="color: #b45f06;">ğŸ“¢ ADS SCRIPT</label>
                    <textarea id="adsScript" rows="3" placeholder="&lt;!-- Script iklan Adsterra/Adsense --&gt;">&lt;div style=&quot;background: #1a2e3f; color: white; padding: 24px; border-radius: 16px; text-align: center;&quot;&gt;
    &lt;strong&gt;ğŸ“¢ IKLAN ANDA DI SINI&lt;/strong&gt;
&lt;/div&gt;</textarea>
                </div>
                
                <!-- HISTATS SCRIPT -->
                <div style="background: #f0f9ff; border: 1px dashed #2c7da0; border-radius: 20px; padding: 25px; margin: 30px 0;">
                    <label style="color: #0e4a5e;">ğŸ“Š HISTATS COUNTER</label>
                    <textarea id="histatsScript" rows="3">&lt;!-- Histats.com START --&gt;
&lt;script&gt;
_Hasync.push([&apos;Histats.start&apos;, &apos;1,1234567,4,0,0,0,00000000&apos;]);
_Hasync.push([&apos;Histats.fasi&apos;, &apos;1&apos;]);
(function() {
  var hs = document.createElement(&apos;script&apos;); hs.async = true;
  hs.src = &apos;//s10.histats.com/js15_as.js&apos;;
  document.head.appendChild(hs);
})();
&lt;/script&gt;</textarea>
                </div>
                
                <!-- TOMBOL GENERATE -->
                <button onclick="generateFinal()" class="btn">
                    âš¡ GENERATE & DOWNLOAD ZIP
                </button>
                <p style="text-align: center; margin-top: 20px; color: #1e824c; font-weight: 600;">
                    âœ… 100% bahasa sesuai pilihan â€¢ Gambar thumbnail Google News â€¢ 5-7 paragraf asli
                </p>
            </div>
            
            <!-- RIGHT PANEL - PREVIEW -->
            <div class="card">
                <h2><span>ğŸ“‹</span> 2. Live Preview</h2>
                
                <!-- PROGRESS -->
                <div id="progressBlock" style="display: none;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <span id="progressStatus" style="font-weight: 600;">Memproses...</span>
                        <span id="progressPercent" style="font-weight: 700;">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                    </div>
                </div>
                
                <!-- FILE LIST -->
                <div style="margin: 0 0 25px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        <span style="font-weight: 700;">ğŸ“ File dalam ZIP</span>
                        <span id="fileCounter" style="background: #0a1a2f; color: white; padding: 4px 16px; border-radius: 60px;">0 file</span>
                    </div>
                    <div class="file-list" id="fileListContainer">
                        <div class="file-item" style="color: #6c7a89;">â³ Generate untuk melihat daftar file...</div>
                    </div>
                </div>
                
                <!-- PREVIEW ARTIKEL -->
                <div style="margin-top: 25px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 18px;">
                        <span style="background: #0a1a2f; color: white; padding: 6px 18px; border-radius: 60px; font-size: 0.8rem;">ğŸ” PREVIEW ARTIKEL PERTAMA</span>
                        <span id="previewLanguage" style="background: #f5b042; padding: 4px 16px; border-radius: 60px; font-weight: bold;">ğŸ‡ºğŸ‡¸ English</span>
                    </div>
                    <div id="articlePreviewArea" style="background: white; border-radius: 20px; padding: 25px; border: 1px solid #e0e8f0; min-height: 400px;">
                        <div style="display: flex; align-items: center; justify-content: center; color: #6c7a89; padding: 60px;">
                            â³ Generate untuk preview artikel pertama
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // GOOGLE NEWS FINAL - BAHASA 100% SESUAI PILIHAN
        // GAMBAR DARI THUMBNAIL GOOGLE NEWS
        // TANPA FALLBACK BAHASA CAMPUR ADUK
        // ============================================
        
        const RSS2JSON_API = 'https://api.rss2json.com/v1/api.json?rss_url=';
        
        // KONFIGURASI BAHASA LENGKAP - PASTI BEDA KONTEN
        const LANG_CONFIG = {
            id: { 
                hl: 'id', gl: 'ID', ceid: 'ID:id', 
                name: 'Indonesia', 
                code: 'id-ID',
                rssLang: 'id',
                country: 'ID'
            },
            us: { 
                hl: 'en', gl: 'US', ceid: 'US:en', 
                name: 'English (US)', 
                code: 'en-US',
                rssLang: 'en',
                country: 'US'
            },
            gb: { 
                hl: 'en', gl: 'GB', ceid: 'GB:en', 
                name: 'English (UK)', 
                code: 'en-GB',
                rssLang: 'en',
                country: 'GB'
            },
            jp: { 
                hl: 'ja', gl: 'JP', ceid: 'JP:ja', 
                name: 'æ—¥æœ¬èª', 
                code: 'ja-JP',
                rssLang: 'ja',
                country: 'JP'
            },
            sa: { 
                hl: 'ar', gl: 'SA', ceid: 'SA:ar', 
                name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', 
                code: 'ar-SA',
                rssLang: 'ar',
                country: 'SA'
            },
            fr: { 
                hl: 'fr', gl: 'FR', ceid: 'FR:fr', 
                name: 'FranÃ§ais', 
                code: 'fr-FR',
                rssLang: 'fr',
                country: 'FR'
            },
            de: { 
                hl: 'de', gl: 'DE', ceid: 'DE:de', 
                name: 'Deutsch', 
                code: 'de-DE',
                rssLang: 'de',
                country: 'DE'
            }
        };
        
        // GENERATE ID 8 KARAKTER
        function generateID() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789';
            let id = '';
            for (let i = 0; i < 8; i++) id += chars.charAt(Math.floor(Math.random() * chars.length));
            return id;
        }
        
        // CLEAN HTML TAGS
        function stripHTML(html) {
            if (!html) return '';
            return html.replace(/<[^>]*>/g, '').replace(/\s+/g, ' ').trim();
        }
        
        // AMBIL GAMBAR DARI GOOGLE NEWS RSS (thumbnail)
        function extractImageFromItem(item) {
            // Coba dari enclosure
            if (item.enclosure && item.enclosure.link) {
                return item.enclosure.link;
            }
            
            // Coba dari description (tag img)
            if (item.description) {
                const srcMatch = item.description.match(/src="([^"]+)"/);
                if (srcMatch) return srcMatch[1];
            }
            
            // Coba dari content
            if (item.content) {
                const srcMatch = item.content.match(/src="([^"]+)"/);
                if (srcMatch) return srcMatch[1];
            }
            
            // Fallback: Google News favicon + keyword
            return null;
        }
        
        // FORMAT KONTEN ASLI DARI RSS (100% SESUAI BAHASA)
        function formatContent(description, title, source, keyword, langCode) {
            if (!description) {
                // Fallback berdasarkan bahasa - TIDAK CAMPUR ADUK
                if (langCode === 'id') {
                    return `<p>${title} - ${source} melaporkan perkembangan terbaru seputar ${keyword}. Berita ini masih berkembang dan akan diperbarui secara berkala.</p>`;
                } else if (langCode === 'jp') {
                    return `<p>${title} - ${source}ã¯${keyword}ã«é–¢ã™ã‚‹æœ€æ–°ã®é€²å±•ã‚’å ±å‘Šã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã¯ç™ºå±•é€”ä¸Šã§ã‚ã‚Šã€å®šæœŸçš„ã«æ›´æ–°ã•ã‚Œã¾ã™ã€‚</p>`;
                } else if (langCode === 'sa') {
                    return `<p>${title} - ${source} ÙŠØ¨Ù„Øº Ø¹Ù† Ø¢Ø®Ø± Ø§Ù„ØªØ·ÙˆØ±Ø§Øª Ø¨Ø´Ø£Ù† ${keyword}. Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡Ø§ Ø¨Ø§Ù†ØªØ¸Ø§Ù….</p>`;
                } else if (langCode === 'fr') {
                    return `<p>${title} - ${source} rapporte les derniers dÃ©veloppements concernant ${keyword}. Cette information est en cours de dÃ©veloppement et sera mise Ã  jour rÃ©guliÃ¨rement.</p>`;
                } else if (langCode === 'de') {
                    return `<p>${title} - ${source} berichtet Ã¼ber die neuesten Entwicklungen zu ${keyword}. Diese Nachricht entwickelt sich weiter und wird regelmÃ¤ÃŸig aktualisiert.</p>`;
                } else {
                    return `<p>${title} - ${source} reports the latest developments regarding ${keyword}. This news is developing and will be updated regularly.</p>`;
                }
            }
            
            // Bersihkan description
            let cleanDesc = stripHTML(description);
            
            // Bagi menjadi paragraf (berdasarkan titik)
            let paragraphs = cleanDesc.split(/\.\s+/);
            let result = '';
            let count = 0;
            
            for (let i = 0; i < paragraphs.length; i++) {
                if (paragraphs[i].trim().length > 30) {
                    result += `<p>${paragraphs[i].trim()}.</p>\n`;
                    count++;
                    if (count >= 5) break; // 5 paragraf cukup
                }
            }
            
            // Jika kurang dari 3 paragraf, tambah dari judul/sumber
            if (count < 3) {
                if (langCode === 'id') {
                    result += `<p>Menurut laporan dari ${source}, perkembangan terbaru seputar ${keyword} menunjukkan tren yang signifikan. Para analis terus memantau situasi dan akan memberikan update selanjutnya.</p>`;
                } else if (langCode === 'jp') {
                    result += `<p>${source}ã®å ±å‘Šã«ã‚ˆã‚‹ã¨ã€${keyword}ã«é–¢ã™ã‚‹æœ€æ–°ã®é€²å±•ã¯é‡è¦ãªå‚¾å‘ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã‚¢ãƒŠãƒªã‚¹ãƒˆã¯çŠ¶æ³ã‚’ç›£è¦–ã—ã€ã•ã‚‰ãªã‚‹æœ€æ–°æƒ…å ±ã‚’æä¾›ã—ã¾ã™ã€‚</p>`;
                } else if (langCode === 'sa') {
                    result += `<p>ÙˆÙÙ‚Ù‹Ø§ Ù„ØªÙ‚Ø±ÙŠØ± Ù…Ù† ${source}ØŒ ØªØ¸Ù‡Ø± Ø¢Ø®Ø± Ø§Ù„ØªØ·ÙˆØ±Ø§Øª Ø¨Ø´Ø£Ù† ${keyword} Ø§ØªØ¬Ø§Ù‡Ù‹Ø§ ÙƒØ¨ÙŠØ±Ù‹Ø§. ÙŠÙˆØ§ØµÙ„ Ø§Ù„Ù…Ø­Ù„Ù„ÙˆÙ† Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ÙˆØ¶Ø¹ ÙˆØ³ÙŠÙ‚Ø¯Ù…ÙˆÙ† ØªØ­Ø¯ÙŠØ«Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©.</p>`;
                } else {
                    result += `<p>According to a report from ${source}, the latest developments regarding ${keyword} show a significant trend. Analysts continue to monitor the situation and will provide further updates.</p>`;
                }
            }
            
            return result;
        }
        
        // GENERATE HTML - MURNI SESUAI BAHASA
        function generateHTML(article, domain, keyword, langConfig, adsScript, histatsScript) {
            const uniqueId = article.uniqueId;
            const year = new Date().getFullYear();
            
            // Format tanggal sesuai bahasa
            const dateStr = new Date(article.pubDate).toLocaleDateString(langConfig.code, {
                day: 'numeric', month: 'long', year: 'numeric'
            });
            
            // Gambar dari thumbnail Google News
            let imageUrl = article.imageUrl;
            if (!imageUrl) {
                imageUrl = `https://news.google.com/favicon.ico?${keyword}`;
            }
            
            // Konten 100% sesuai bahasa
            const contentHTML = article.contentHTML || `<p>${article.description || 'News is developing...'}</p>`;
            
            // Teks sumber sesuai bahasa
            let sourceText = 'Original source:';
            let copyrightText = 'Copyright belongs to the original source.';
            
            if (langConfig.code === 'id-ID') {
                sourceText = 'ğŸ”— Sumber asli:';
                copyrightText = 'âš ï¸ Hak cipta milik sumber asli.';
            } else if (langConfig.code === 'ja-JP') {
                sourceText = 'ğŸ”— å…ƒã®ã‚½ãƒ¼ã‚¹:';
                copyrightText = 'âš ï¸ è‘—ä½œæ¨©ã¯å…ƒã®ã‚½ãƒ¼ã‚¹ã«å¸°å±ã—ã¾ã™ã€‚';
            } else if (langConfig.code === 'ar-SA') {
                sourceText = 'ğŸ”— Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø£ØµÙ„ÙŠ:';
                copyrightText = 'âš ï¸ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø·Ø¨Ø¹ ÙˆØ§Ù„Ù†Ø´Ø± Ù„Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø£ØµÙ„ÙŠ.';
            } else if (langConfig.code === 'fr-FR') {
                sourceText = 'ğŸ”— Source originale:';
                copyrightText = 'âš ï¸ Les droits d\'auteur appartiennent Ã  la source originale.';
            } else if (langConfig.code === 'de-DE') {
                sourceText = 'ğŸ”— Originalquelle:';
                copyrightText = 'âš ï¸ Das Urheberrecht liegt bei der Originalquelle.';
            }
            
            return `<!DOCTYPE html>
<html lang="${langConfig.code}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${article.title} [${uniqueId}]</title>
    <meta name="description" content="${stripHTML(article.description || '').substring(0, 160)}">
    <meta name="keywords" content="${keyword}, ${keyword} news, ${year}">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://${domain}/${keyword.replace(/\s+/g, '-')}-${uniqueId}.html">
    
    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://${domain}/${keyword.replace(/\s+/g, '-')}-${uniqueId}.html">
    <meta property="og:title" content="${article.title}">
    <meta property="og:description" content="${stripHTML(article.description || '').substring(0, 160)}">
    <meta property="og:image" content="${imageUrl}">
    <meta property="og:locale" content="${langConfig.code}">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="${article.title}">
    <meta name="twitter:description" content="${stripHTML(article.description || '').substring(0, 160)}">
    <meta name="twitter:image" content="${imageUrl}">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f9ff;
            color: #1a2b3c;
            line-height: 1.7;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 30px 20px; }
        .article-card {
            background: white;
            border-radius: 32px;
            padding: 45px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.02);
            border: 1px solid #edf2f9;
        }
        .hero-image {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            border-radius: 16px;
            margin-bottom: 30px;
            background: #f8fbfe;
        }
        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #0a1a2f;
            line-height: 1.3;
        }
        .id-badge {
            display: inline-block;
            background: #0a1a2f;
            color: white;
            padding: 6px 20px;
            border-radius: 60px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 20px;
        }
        .meta-info {
            display: flex;
            gap: 30px;
            color: #4f6f8f;
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid #ecf3fa;
            font-size: 0.95rem;
            flex-wrap: wrap;
        }
        .content {
            font-size: 1.05rem;
            color: #2c3e50;
        }
        .content p {
            margin-bottom: 24px;
        }
        .source-box {
            background: #f1f9fe;
            border-radius: 20px;
            padding: 28px;
            margin: 40px 0 30px;
            border-left: 5px solid #0a1a2f;
        }
        .ads-container {
            margin: 40px 0;
            padding: 25px;
            background: #fef9e7;
            border-radius: 20px;
            text-align: center;
            border: 1px dashed #f5b042;
        }
        .footer {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid #ecf3fa;
            color: #4f6f8f;
            font-size: 0.9rem;
            text-align: center;
        }
        @media (max-width: 768px) {
            .article-card { padding: 25px; }
            h1 { font-size: 1.6rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="article-card">
            
            <!-- ADS HEADER -->
            <div class="ads-container" style="margin-top: 0;">
                ${adsScript}
            </div>
            
            <!-- ID BADGE -->
            <span class="id-badge">ğŸ”¢ ID: ${uniqueId}</span>
            
            <!-- JUDUL -->
            <h1>${article.title}</h1>
            
            <!-- METADATA -->
            <div class="meta-info">
                <span>ğŸ“° ${article.source || 'Google News'}</span>
                <span>ğŸ“… ${dateStr}</span>
                <span>ğŸŒ ${langConfig.name}</span>
            </div>
            
            <!-- HERO IMAGE - THUMBNAIL GOOGLE NEWS -->
            <img class="hero-image" src="${imageUrl}" alt="${keyword}" onerror="this.src='https://news.google.com/favicon.ico'">
            
            <!-- KONTEN ARTIKEL - 100% SESUAI BAHASA -->
            <div class="content">
                ${contentHTML}
            </div>
            
            <!-- SUMBER ASLI -->
            <div class="source-box">
                <p style="font-weight: 700; margin-bottom: 15px;">${sourceText}</p>
                <a href="${article.link}" target="_blank" rel="nofollow sponsored" style="color: #0f5b8c; word-break: break-all; text-decoration: none; font-weight: 600;">
                    ${article.link}
                </a>
                <p style="margin-top: 18px; color: #3a5e6e; font-size: 0.95rem;">${copyrightText}</p>
            </div>
            
            <!-- ADS MIDDLE -->
            <div class="ads-container">
                ${adsScript}
            </div>
            
            <!-- FOOTER -->
            <div class="footer">
                <p>Â© ${year} ${domain}</p>
                <p style="margin-top: 8px; font-size: 0.8rem; color: #8a9db0;">ID: ${uniqueId} Â· Google News Â· Gambar: Google News</p>
            </div>
        </div>
    </div>
    
    <!-- HISTATS COUNTER -->
    ${histatsScript}
</body>
</html>`;
        }
        
        // GENERATE SITEMAP
        function generateSitemap(articles, domain, keyword) {
            let urls = '';
            articles.forEach(a => {
                urls += `  <url>
    <loc>https://${domain}/${keyword.replace(/\s+/g, '-')}-${a.uniqueId}.html</loc>
    <lastmod>${new Date().toISOString().split('T')[0]}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.7</priority>
  </url>\n`;
            });
            return `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${urls}</urlset>`;
        }
        
        // MAIN GENERATOR - FINAL VERSION
        async function generateFinal() {
            const keyword = document.getElementById('keyword').value.trim();
            const domain = document.getElementById('domain').value.trim().replace(/^https?:\/\//, '').replace(/\/$/, '');
            const langCode = document.getElementById('language').value;
            const jumlah = parseInt(document.getElementById('jumlah').value);
            const adsScript = document.getElementById('adsScript').value;
            const histatsScript = document.getElementById('histatsScript').value;
            
            if (!keyword || !domain) {
                alert('Keyword dan Domain wajib diisi!');
                return;
            }
            
            // Show progress
            document.getElementById('progressBlock').style.display = 'block';
            document.getElementById('progressFill').style.width = '10%';
            document.getElementById('progressPercent').innerHTML = '10%';
            document.getElementById('progressStatus').innerHTML = `ğŸ“¡ Mengambil berita ${LANG_CONFIG[langCode].name} dari Google News...`;
            
            // Update badge preview
            document.getElementById('previewLanguage').innerHTML = `ğŸŒ ${LANG_CONFIG[langCode].name}`;
            
            try {
                const lang = LANG_CONFIG[langCode];
                
                // RSS URL dengan parameter BAHASA SPESIFIK - PASTI BEDA
                const rssUrl = `https://news.google.com/rss/search?q=${encodeURIComponent(keyword)}&hl=${lang.hl}&gl=${lang.gl}&ceid=${lang.ceid}`;
                console.log('RSS URL:', rssUrl);
                
                const response = await fetch(RSS2JSON_API + encodeURIComponent(rssUrl));
                const data = await response.json();
                
                if (data.status !== 'ok' || !data.items || data.items.length === 0) {
                    throw new Error(`Tidak ada berita ${lang.name} untuk keyword "${keyword}"`);
                }
                
                document.getElementById('progressStatus').innerHTML = 'ğŸ–¼ï¸ Memproses thumbnail & konten...';
                document.getElementById('progressFill').style.width = '30%';
                document.getElementById('progressPercent').innerHTML = '30%';
                
                const items = data.items.slice(0, jumlah * 2);
                const zip = new JSZip();
                const folderName = keyword.replace(/\s+/g, '-').toLowerCase();
                const folder = zip.folder(folderName);
                
                const articles = [];
                const fileList = [];
                
                for (let i = 0; i < jumlah; i++) {
                    const randomItem = items[Math.floor(Math.random() * items.length)];
                    
                    // Title asli - PASTI BAHASA SESUAI
                    let title = randomItem.title || keyword;
                    if (title.includes(' - ')) {
                        title = title.split(' - ')[0].trim();
                    }
                    
                    // Source
                    let source = 'Google News';
                    if (randomItem.title) {
                        const match = randomItem.title.match(/- (.*?)$/);
                        if (match) source = match[1].trim();
                    }
                    
                    const uniqueId = generateID();
                    const fileName = `${folderName}-${uniqueId}.html`;
                    
                    // Gambar dari thumbnail Google News
                    const imageUrl = extractImageFromItem(randomItem);
                    
                    // Description asli - BAHASA ASLI
                    let description = randomItem.description || '';
                    description = stripHTML(description);
                    
                    // Format konten - 100% BAHASA ASLI
                    const contentHTML = formatContent(
                        randomItem.description, 
                        title, 
                        source, 
                        keyword, 
                        langCode
                    );
                    
                    const article = {
                        title: title,
                        uniqueId: uniqueId,
                        link: randomItem.link || '#',
                        source: source,
                        description: description,
                        contentHTML: contentHTML,
                        pubDate: randomItem.pubDate || new Date().toISOString(),
                        imageUrl: imageUrl
                    };
                    
                    // Generate HTML
                    const html = generateHTML(
                        article, domain, keyword, lang,
                        adsScript, histatsScript
                    );
                    
                    folder.file(fileName, html);
                    articles.push(article);
                    fileList.push({ name: fileName, id: uniqueId });
                    
                    // Update progress
                    const progress = 30 + ((i + 1) / jumlah * 60);
                    document.getElementById('progressFill').style.width = progress + '%';
                    document.getElementById('progressPercent').innerHTML = Math.round(progress) + '%';
                    document.getElementById('progressStatus').innerHTML = `ğŸ“ Membuat artikel ${i+1}/${jumlah} (${lang.name})...`;
                    
                    // Preview artikel pertama
                    if (i === 0) {
                        const previewDate = new Date(article.pubDate).toLocaleDateString(lang.code, {
                            day: 'numeric', month: 'long', year: 'numeric'
                        });
                        
                        let previewContent = description;
                        if (previewContent.length > 300) {
                            previewContent = previewContent.substring(0, 300) + '...';
                        }
                        
                        const previewHtml = `
                            <div style="display: flex; gap: 25px; flex-wrap: wrap;">
                                <div style="flex: 0 0 200px;">
                                    <img src="${imageUrl || 'https://news.google.com/favicon.ico'}" style="width: 100%; height: 140px; object-fit: contain; border-radius: 12px; border: 1px solid #e0e8f0; background: #f8fbfe; padding: 10px;" onerror="this.src='https://news.google.com/favicon.ico'">
                                    <p style="font-size: 0.7rem; color: #4f6f8f; margin-top: 8px; text-align: center;">ğŸ–¼ï¸ Thumbnail Google News</p>
                                </div>
                                <div style="flex: 1;">
                                    <div style="display: flex; gap: 12px; align-items: center; margin-bottom: 12px; flex-wrap: wrap;">
                                        <span style="background: #0a1a2f; color: white; padding: 4px 16px; border-radius: 60px; font-size: 0.7rem;">ğŸ”¢ ID: ${uniqueId}</span>
                                        <span style="background: #28a745; color: white; padding: 4px 16px; border-radius: 60px; font-size: 0.7rem;">ğŸ“„ ${lang.name}</span>
                                    </div>
                                    <h3 style="font-size: 1.1rem; margin-bottom: 10px; color: #0a1a2f;">${title}</h3>
                                    <p style="color: #2c5a7a; margin-bottom: 12px; font-size: 0.85rem;">ğŸ“° ${source} Â· ${previewDate}</p>
                                    <div style="background: #f8fbfe; padding: 15px; border-radius: 12px; max-height: 200px; overflow-y: auto; font-size: 0.9rem; border: 1px solid #e0e8f0;">
                                        ${previewContent || 'Konten berita asli 100% bahasa ' + lang.name + '...'}
                                    </div>
                                    <p style="margin-top: 12px; color: #1e824c; font-size: 0.8rem; font-weight: 600;">
                                        âœ… BAHASA: ${lang.name} MURNI Â· GAMBAR: THUMBNAIL GOOGLE NEWS
                                    </p>
                                </div>
                            </div>
                        `;
                        document.getElementById('articlePreviewArea').innerHTML = previewHtml;
                    }
                    
                    await new Promise(r => setTimeout(r, 20));
                }
                
                // SITEMAP
                const sitemap = generateSitemap(articles, domain, keyword);
                folder.file('sitemap.xml', sitemap);
                
                // Update file list
                let flHtml = '';
                fileList.slice(0, 8).forEach(f => {
                    flHtml += `<div class="file-item">
                        <span style="color: #0a1a2f;">ğŸ“„</span>
                        <span style="font-family: monospace; flex: 1;">${f.name}</span>
                        <span style="color: #1e824c; font-size: 0.75rem; background: #e8f5e9; padding: 4px 10px; border-radius: 30px;">${f.id}</span>
                    </div>`;
                });
                if (fileList.length > 8) {
                    flHtml += `<div class="file-item" style="color: #4f6f8f;">... dan ${fileList.length - 8} file lainnya</div>`;
                }
                flHtml += `<div class="file-item" style="background: #e3f2fd;">
                    <span style="color: #0f5b8c;">ğŸ—ºï¸</span>
                    <span style="font-family: monospace; flex: 1;">sitemap.xml</span>
                    <span style="color: #0f5b8c;">${articles.length} URLs</span>
                </div>`;
                
                document.getElementById('fileListContainer').innerHTML = flHtml;
                document.getElementById('fileCounter').innerHTML = (fileList.length + 1) + ' file';
                
                // COMPLETE - DOWNLOAD ZIP
                document.getElementById('progressStatus').innerHTML = 'âœ… Selesai! Mendownload ZIP...';
                document.getElementById('progressFill').style.width = '100%';
                document.getElementById('progressPercent').innerHTML = '100%';
                
                const zipBlob = await zip.generateAsync({ type: 'blob' });
                saveAs(zipBlob, `${folderName}-${jumlah}artikel-${langCode}-${Date.now()}.zip`);
                
            } catch (error) {
                console.error(error);
                alert('âŒ Error: ' + error.message);
                document.getElementById('progressBlock').style.display = 'none';
            }
        }
    </script>
</body>
</html>
