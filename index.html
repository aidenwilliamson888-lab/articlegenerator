<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö° MASS GOOGLE NEWS GENERATOR - 10 ARTIKEL PER KEYWORD</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            background: #f0f2f5; 
            padding: 30px 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        .header {
            background: linear-gradient(145deg, #0b2b40, #0a1a2a);
            color: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 { font-size: 2.5rem; margin-bottom: 10px; }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 30px;
        }
        @media (max-width: 1000px) {
            .grid { grid-template-columns: 1fr; }
        }
        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.03);
            border: 1px solid #e0e0e0;
        }
        .card h2 {
            font-size: 1.4rem;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        input, select, textarea {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            transition: 0.2s;
        }
        input:focus, select:focus, textarea:focus {
            border-color: #0066cc;
            outline: none;
        }
        textarea {
            font-family: monospace;
            resize: vertical;
        }
        button {
            background: #0b2b40;
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 40px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
        }
        button:hover {
            background: #1a4a60;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,102,204,0.2);
        }
        .badge {
            background: #0066cc;
            color: white;
            padding: 5px 15px;
            border-radius: 30px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
        }
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-item {
            background: white;
            border-radius: 16px;
            padding: 20px;
            border: 1px solid #e0e0e0;
        }
        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: #0b2b40;
            line-height: 1;
        }
        .stat-label {
            color: #666;
            font-size: 0.9rem;
            margin-top: 8px;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: #0066cc;
            width: 0%;
            transition: width 0.3s;
        }
        .file-list {
            background: #f8f9fa;
            border-radius: 14px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 0.85rem;
            border: 1px solid #e0e0e0;
        }
        .file-item {
            padding: 10px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .file-item:last-child { border-bottom: none; }
        .country-flags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        .flag-option {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 10px 15px;
            cursor: pointer;
            transition: 0.2s;
        }
        .flag-option:hover, .flag-option.active {
            border-color: #0066cc;
            background: #e6f2ff;
        }
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 14px;
            overflow-x: auto;
            font-size: 0.8rem;
            max-height: 400px;
        }
        .language-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 30px;
            font-size: 0.75rem;
            font-weight: 700;
            background: #0b2b40;
            color: white;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>üåç MASS GOOGLE NEWS GENERATOR</h1>
            <p style="font-size: 1.2rem; opacity: 0.9; margin-bottom: 20px;">1 keyword = 10 artikel unik ‚Ä¢ Multi bahasa ‚Ä¢ Auto Ads + Histats</p>
            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                <span class="badge" style="background: #ffc107; color: black;">‚úÖ WORKING 100%</span>
                <span class="badge" style="background: #28a745;">üåê 6 BAHASA</span>
                <span class="badge" style="background: #dc3545;">üì¶ 10 HTML PER KEYWORD</span>
            </div>
        </div>

        <!-- STATS PANEL -->
        <div class="stats-panel">
            <div class="stat-item">
                <div class="stat-value" id="statKeyword">0</div>
                <div class="stat-label">Keyword</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="statArticles">0</div>
                <div class="stat-label">Artikel HTML</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="statLanguages">6</div>
                <div class="stat-label">Bahasa</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="statSize">0 MB</div>
                <div class="stat-label">Estimasi Size</div>
            </div>
        </div>

        <!-- MAIN GRID -->
        <div class="grid">
            <!-- LEFT PANEL - INPUT -->
            <div class="card">
                <h2>
                    <span>üéØ</span>
                    1. INPUT KEYWORD & SETTINGS
                </h2>
                
                <div class="form-group">
                    <label>üîë Keyword Utama (1 keyword = 10 artikel)</label>
                    <input type="text" id="mainKeyword" value="artificial intelligence" placeholder="Masukkan 1 keyword">
                </div>

                <div class="form-group">
                    <label>üåé Pilih Bahasa</label>
                    <select id="languageSelect" style="font-weight: bold;">
                        <option value="id">üáÆüá© Indonesia</option>
                        <option value="us" selected>üá∫üá∏ English (US)</option>
                        <option value="gb">üá¨üáß English (UK)</option>
                        <option value="jp">üáØüáµ Êó•Êú¨Ë™û (Jepang)</option>
                        <option value="sa">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arab)</option>
                        <option value="fr">üá´üá∑ Fran√ßais (Prancis)</option>
                        <option value="de">üá©üá™ Deutsch (Jerman)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>üìÑ Jumlah Artikel</label>
                    <select id="articleCount">
                        <option value="5">5 artikel</option>
                        <option value="10" selected>10 artikel (rekomendasi)</option>
                        <option value="15">15 artikel</option>
                        <option value="20">20 artikel</option>
                    </select>
                </div>

                <!-- ADS SCRIPT -->
                <div style="background: #fff3cd; border: 1px solid #ffeeba; border-radius: 16px; padding: 20px; margin: 25px 0;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: #ffc107; padding: 5px 15px; border-radius: 30px; font-weight: 700; font-size: 0.8rem;">üì¢ ADS BANNER</span>
                        <span style="color: #856404;">Tempel script Adsterra/Adsense</span>
                    </div>
                    <textarea id="adsScript" rows="4" placeholder="&lt;!-- SCRIPT IKLAN ANDA --&gt;">&lt;div style=&quot;background: linear-gradient(145deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 12px; text-align: center;&quot;&gt;
    &lt;strong&gt;üì¢ IKLAN ANDA DI SINI&lt;/strong&gt;&lt;br&gt;
    &lt;span style=&quot;font-size: 0.9rem;&quot;&gt;Ganti dengan script Adsterra/Adsense&lt;/span&gt;
&lt;/div&gt;</textarea>
                </div>

                <!-- HISTATS SCRIPT -->
                <div style="background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 16px; padding: 20px; margin: 25px 0;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: #17a2b8; color: white; padding: 5px 15px; border-radius: 30px; font-weight: 700; font-size: 0.8rem;">üìä HISTATS COUNTER</span>
                        <span style="color: #0c5460;">Otomatis di semua halaman</span>
                    </div>
                    <textarea id="histatsScript" rows="4" placeholder="&lt;!-- Histats.com START --&gt;">&lt;!-- Histats.com START (async) --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
_Hasync.push([&apos;Histats.start&apos;, &apos;1,1234567,4,0,0,0,00000000&apos;]);
_Hasync.push([&apos;Histats.fasi&apos;, &apos;1&apos;]);
_Hasync.push([&apos;Histats.track_hits&apos;, &apos;&apos;]);
(function() {
    var hs = document.createElement(&apos;script&apos;); hs.type = &apos;text/javascript&apos;; hs.async = true;
    hs.src = (&apos;http://s10.histats.com/js15_as.js&apos;);
    (document.getElementsByTagName(&apos;head&apos;)[0] || document.getElementsByTagName(&apos;body&apos;)[0]).appendChild(hs);
})();
&lt;/script&gt;
&lt;noscript&gt;&lt;a href=&quot;http://www.histats.com&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://sstatic1.histats.com/0.gif?1234567&amp;101&quot; alt=&quot;counter&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/noscript&gt;
&lt;!-- Histats.com END --&gt;</textarea>
                </div>

                <button onclick="massGenerate()">
                    ‚ö° GENERATE 10 ARTIKEL HTML
                </button>
                <p style="text-align: center; margin-top: 15px; color: #666; font-size: 0.9rem;">
                    üöÄ Setiap keyword akan menghasilkan 10 file HTML unik + sitemap.xml
                </p>
            </div>

            <!-- RIGHT PANEL - OUTPUT -->
            <div class="card">
                <h2>
                    <span>üì¶</span>
                    2. OUTPUT PRODUKSI
                </h2>

                <!-- PROGRESS -->
                <div id="progressContainer" style="display: none;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span id="progressStatus">‚öôÔ∏è Generating...</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                    </div>
                </div>

                <!-- ACTION BUTTONS -->
                <div style="display: flex; gap: 12px; margin-bottom: 25px; flex-wrap: wrap;">
                    <button onclick="downloadAllZip()" style="background: #28a745; flex: 1; padding: 14px;" id="downloadBtn">
                        üì¶ DOWNLOAD ALL (ZIP)
                    </button>
                    <button onclick="downloadSitemap()" style="background: #17a2b8; flex: 0.5; padding: 14px;" id="sitemapBtn">
                        üó∫Ô∏è SITEMAP
                    </button>
                </div>

                <!-- FILE LIST -->
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                        <span style="font-weight: 700;">üìã FILE DIGENERATE:</span>
                        <span id="fileCount" style="color: #0066cc;">0 file</span>
                    </div>
                    <div class="file-list" id="fileList">
                        <div class="file-item" style="color: #666;">‚è≥ Generate untuk melihat daftar file...</div>
                    </div>
                </div>

                <!-- SITEMAP PREVIEW -->
                <div style="margin-top: 25px; background: #f8f9fa; border-radius: 14px; padding: 20px; border: 1px solid #e0e0e0;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        <span style="background: #17a2b8; color: white; padding: 3px 12px; border-radius: 30px; font-size: 0.75rem;">SITEMAP</span>
                        <span id="sitemapUrlCount" style="color: #17a2b8;">0 URLs</span>
                    </div>
                    <pre id="sitemapPreview" style="max-height: 200px; background: #2d2d2d;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;!-- Generate untuk preview --&gt;
&lt;/urlset&gt;</pre>
                </div>
            </div>
        </div>

        <!-- PREVIEW GRID 10 ARTIKEL -->
        <div id="previewGrid" style="margin-top: 40px; display: none;">
            <div class="card">
                <h2 style="border-bottom: none; padding-bottom: 0;">
                    <span>üîç</span>
                    PREVIEW 10 ARTIKEL (JUDUL MODIFIKASI)
                </h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; margin-top: 20px;" id="titlePreviewGrid"></div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // MASS GOOGLE NEWS GENERATOR - 10 ARTIKEL PER KEYWORD
        // FITUR: MULTI BAHASA, MODIF TITLE, ADS + HISTATS
        // ============================================
        
        // API RSS2JSON - GRATIS, TANPA API KEY
        const RSS2JSON_API = 'https://api.rss2json.com/v1/api.json?rss_url=';
        
        // Variabel global
        let generatedArticles = [];
        let generatedSitemap = '';
        let allUrls = [];
        
        // Template judul untuk modifikasi
        const titleTemplates = [
            "[TITLE] - Update Terbaru [YEAR]",
            "[TITLE]: Panduan Lengkap untuk Pemula",
            "Review: [TITLE] yang Wajib Kamu Tahu",
            "[TITLE] - Apakah Worth It? Simak Faktanya",
            "10 Fakta Penting tentang [TITLE]",
            "Mengenal Lebih Jauh [TITLE] di [YEAR]",
            "[TITLE] vs Kompetitor: Mana Lebih Baik?",
            "Cara Memaksimalkan [TITLE] untuk Pemula",
            "[TITLE] Terbaru: Harga, Spesifikasi, Review",
            "Rahasia [TITLE] yang Jarang Diketahui",
            "Kenapa [TITLE] Sedang Viral? Ini Alasannya",
            "[TITLE]: Solusi Tepat untuk Masalahmu?",
            "5 Alasan Kenapa [TITLE] Layak Dicoba",
            "Tutorial Lengkap [TITLE] Step by Step",
            "[TITLE] Termurah vs Termahal: Perbandingan",
            "Sejarah dan Perkembangan [TITLE]",
            "Testimoni Pengguna [TITLE] - Jujur Tanpa Basi",
            "[TITLE] di [YEAR]: Masih Relevan?",
            "Jangan Beli [TITLE] Sebelum Baca Ini!",
            "Kelebihan dan Kekurangan [TITLE] Versi Terbaru"
        ];
        
        // Konfigurasi bahasa
        const languageConfig = {
            id: { hl: 'id', gl: 'ID', ceid: 'ID:id', tld: 'id', name: 'Indonesia' },
            us: { hl: 'en', gl: 'US', ceid: 'US:en', tld: 'com', name: 'English (US)' },
            gb: { hl: 'en', gl: 'GB', ceid: 'GB:en', tld: 'co.uk', name: 'English (UK)' },
            jp: { hl: 'ja', gl: 'JP', ceid: 'JP:ja', tld: 'co.jp', name: 'Japanese' },
            sa: { hl: 'ar', gl: 'SA', ceid: 'SA:ar', tld: 'com.sa', name: 'Arabic' },
            fr: { hl: 'fr', gl: 'FR', ceid: 'FR:fr', tld: 'fr', name: 'French' },
            de: { hl: 'de', gl: 'DE', ceid: 'DE:de', tld: 'de', name: 'German' }
        };

        async function massGenerate() {
            const keyword = document.getElementById('mainKeyword').value.trim();
            const langCode = document.getElementById('languageSelect').value;
            const articleCount = parseInt(document.getElementById('articleCount').value);
            
            if (!keyword) {
                alert('Masukkan keyword!');
                return;
            }
            
            // Reset state
            generatedArticles = [];
            allUrls = [];
            
            // Update stat
            document.getElementById('statKeyword').innerText = '1';
            document.getElementById('statArticles').innerText = articleCount;
            document.getElementById('statSize').innerText = ((articleCount * 15) / 1000).toFixed(2) + ' MB';
            
            // Tampilkan progress
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('previewGrid').style.display = 'block';
            document.getElementById('downloadBtn').disabled = false;
            document.getElementById('sitemapBtn').disabled = false;
            
            // Update progress
            document.getElementById('progressStatus').innerHTML = 'üì° Mengambil data dari Google News...';
            document.getElementById('progressFill').style.width = '20%';
            document.getElementById('progressPercent').innerHTML = '20%';
            
            try {
                // Buat URL RSS berdasarkan bahasa
                const lang = languageConfig[langCode];
                const rssUrl = `https://news.google.com/rss/search?q=${encodeURIComponent(keyword)}&hl=${lang.hl}&gl=${lang.gl}&ceid=${lang.ceid}`;
                
                // Ambil data dari RSS
                const response = await fetch(RSS2JSON_API + encodeURIComponent(rssUrl));
                const data = await response.json();
                
                if (data.status !== 'ok' || !data.items || data.items.length === 0) {
                    throw new Error('Tidak ada berita ditemukan');
                }
                
                document.getElementById('progressStatus').innerHTML = '‚öôÔ∏è Memproses ' + articleCount + ' artikel unik...';
                document.getElementById('progressFill').style.width = '50%';
                document.getElementById('progressPercent').innerHTML = '50%';
                
                // Ambil items secukupnya
                let items = data.items.slice(0, articleCount * 2); // Ambil lebih untuk variasi
                
                // Generate 10 artikel UNIK dengan judul modifikasi
                const articles = [];
                const titlePreview = [];
                
                for (let i = 0; i < articleCount; i++) {
                    // Pilih item secara acak
                    const randomItem = items[Math.floor(Math.random() * items.length)];
                    
                    // Ambil judul asli
                    let originalTitle = randomItem.title || keyword;
                    if (originalTitle.includes(' - ')) {
                        originalTitle = originalTitle.split(' - ')[0].trim();
                    }
                    
                    // MODIFIKASI JUDUL - Pilih template acak
                    const template = titleTemplates[Math.floor(Math.random() * titleTemplates.length)];
                    const year = new Date().getFullYear();
                    let modifiedTitle = template
                        .replace('[TITLE]', originalTitle)
                        .replace('[YEAR]', year.toString());
                    
                    // Tambah variasi
                    if (Math.random() > 0.5) {
                        modifiedTitle = modifiedTitle + ' ' + ['2026', 'Terbaru', 'Update'][Math.floor(Math.random() * 3)];
                    }
                    
                    // Buat slug
                    const slug = modifiedTitle.toLowerCase()
                        .replace(/[^\w\s]/gi, '')
                        .replace(/\s+/g, '-')
                        .substring(0, 60);
                    
                    // Sumber
                    let source = 'Google News';
                    if (randomItem.title) {
                        const match = randomItem.title.match(/- (.*?)$/);
                        if (match) source = match[1].trim();
                    }
                    
                    // Tanggal
                    let pubDate = 'Baru saja';
                    if (randomItem.pubDate) {
                        const d = new Date(randomItem.pubDate);
                        pubDate = d.toLocaleDateString(langCode === 'id' ? 'id-ID' : 'en-US', { 
                            day: 'numeric', 
                            month: 'long', 
                            year: 'numeric' 
                        });
                    }
                    
                    // Deskripsi
                    let description = randomItem.description || '';
                    description = description.replace(/<[^>]*>/g, '');
                    description = description.substring(0, 180) + '...';
                    
                    const article = {
                        id: i + 1,
                        keyword: keyword,
                        originalTitle: originalTitle,
                        modifiedTitle: modifiedTitle,
                        link: randomItem.link || '#',
                        source: source,
                        pubDate: pubDate,
                        description: description,
                        slug: slug,
                        language: langCode,
                        languageName: lang.name
                    };
                    
                    articles.push(article);
                    
                    // Simpan untuk preview title
                    titlePreview.push({
                        original: originalTitle,
                        modified: modifiedTitle
                    });
                    
                    // Simulate progress
                    await new Promise(r => setTimeout(r, 50));
                }
                
                // Tampilkan preview judul
                displayTitlePreview(titlePreview);
                
                // Generate HTML untuk setiap artikel
                document.getElementById('progressStatus').innerHTML = 'üìù Membuat file HTML...';
                document.getElementById('progressFill').style.width = '75%';
                document.getElementById('progressPercent').innerHTML = '75%';
                
                const adsScript = document.getElementById('adsScript').value;
                const histatsScript = document.getElementById('histatsScript').value;
                
                generatedArticles = [];
                
                for (let i = 0; i < articles.length; i++) {
                    const article = articles[i];
                    const html = generateHTMLPage(article, adsScript, histatsScript);
                    
                    generatedArticles.push({
                        filename: `${article.slug}-${i+1}.html`,
                        title: article.modifiedTitle,
                        url: `https://domain-anda.com/${article.slug}-${i+1}.html`,
                        html: html,
                        lastmod: new Date().toISOString().split('T')[0]
                    });
                    
                    allUrls.push(`https://domain-anda.com/${article.slug}-${i+1}.html`);
                }
                
                // Generate sitemap
                generatedSitemap = generateSitemap(generatedArticles);
                
                // Update file list
                updateFileList(generatedArticles);
                
                // Update sitemap preview
                document.getElementById('sitemapUrlCount').innerHTML = `${allUrls.length} URLs`;
                document.getElementById('sitemapPreview').textContent = generatedSitemap.substring(0, 500) + '\n  ... (truncated)\n</urlset>';
                
                // Selesai
                document.getElementById('progressStatus').innerHTML = '‚úÖ Selesai! ' + articleCount + ' artikel HTML siap didownload';
                document.getElementById('progressFill').style.width = '100%';
                document.getElementById('progressPercent').innerHTML = '100%';
                document.getElementById('fileCount').innerHTML = generatedArticles.length + ' files';
                
            } catch (error) {
                console.error(error);
                alert('Error: ' + error.message);
                document.getElementById('progressContainer').style.display = 'none';
            }
        }

        function generateHTMLPage(article, adsScript, histatsScript) {
            const today = new Date().toLocaleDateString(
                article.language === 'id' ? 'id-ID' : 'en-US', 
                { day: 'numeric', month: 'long', year: 'numeric' }
            );
            
            const langCode = article.language;
            
            return `<!DOCTYPE html>
<html lang="${langCode}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${article.modifiedTitle}</title>
    <meta name="description" content="${article.description.substring(0, 160)}">
    <meta name="keywords" content="${article.keyword}, ${article.keyword} terbaru, ${article.keyword} 2026">
    <meta name="robots" content="index, follow">
    <meta name="author" content="News Portal">
    <link rel="canonical" href="https://domain-anda.com/${article.slug}-${article.id}.html">
    
    <!-- Open Graph -->
    <meta property="og:title" content="${article.modifiedTitle}">
    <meta property="og:description" content="${article.description.substring(0, 160)}">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://domain-anda.com/${article.slug}-${article.id}.html">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="${article.modifiedTitle}">
    <meta name="twitter:description" content="${article.description.substring(0, 160)}">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: #f8f9fa; 
            color: #1e293b; 
            line-height: 1.7;
        }
        .container { max-width: 1000px; margin: 0 auto; padding: 30px 20px; }
        .article-wrapper { 
            background: white; 
            border-radius: 24px; 
            padding: 35px; 
            box-shadow: 0 5px 20px rgba(0,0,0,0.02);
            border: 1px solid #e9ecef;
        }
        h1 { font-size: 2.2rem; margin-bottom: 20px; color: #0b2b40; line-height: 1.3; }
        .meta { 
            color: #6c757d; 
            margin-bottom: 25px; 
            padding-bottom: 20px; 
            border-bottom: 1px solid #e9ecef;
            display: flex;
            gap: 25px;
            font-size: 0.95rem;
        }
        .content { font-size: 1.05rem; color: #2c3e50; }
        .content p { margin-bottom: 20px; }
        .content h2 { font-size: 1.5rem; margin: 40px 0 15px; color: #0b2b40; }
        .source-box {
            background: #f1f3f5;
            border-left: 4px solid #0b2b40;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
        }
        .source-link {
            word-break: break-all;
            color: #0066cc;
            text-decoration: none;
            font-weight: 600;
        }
        .source-link:hover { text-decoration: underline; }
        .ads-container {
            margin: 30px 0;
            padding: 20px;
            background: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 12px;
            text-align: center;
        }
        .footer {
            margin-top: 40px;
            padding-top: 25px;
            border-top: 1px solid #e9ecef;
            color: #6c757d;
            font-size: 0.9rem;
            text-align: center;
        }
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .article-wrapper { padding: 25px; }
            h1 { font-size: 1.6rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="article-wrapper">
            <!-- HEADER ADS -->
            <div class="ads-container" style="margin-top: 0;">
                ${adsScript}
            </div>
            
            <h1>${article.modifiedTitle}</h1>
            
            <div class="meta">
                <span>üì∞ Sumber: ${article.source}</span>
                <span>üìÖ ${article.pubDate}</span>
                <span>üåê ${article.languageName}</span>
            </div>
            
            <div class="content">
                <p style="font-size: 1.1rem; font-weight: 500; color: #0b2b40;">
                    ${article.description}
                </p>
                
                <h2>Ringkasan Berita</h2>
                <p>
                    Berikut adalah ringkasan dari artikel yang kami kutip dari ${article.source}. 
                    Untuk informasi lebih lengkap dan detail, silakan kunjungi sumber asli di bawah ini.
                </p>
                
                <div class="source-box">
                    <p style="font-weight: 700; margin-bottom: 15px;">üîó Sumber Asli:</p>
                    <a href="${article.link}" class="source-link" target="_blank" rel="nofollow sponsored">
                        ${article.link}
                    </a>
                    <p style="margin-top: 15px; color: #495057;">
                        ‚ö†Ô∏è Artikel ini adalah ringkasan. Hak cipta sepenuhnya milik sumber asli.
                    </p>
                </div>
                
                <h2>Kesimpulan</h2>
                <p>
                    ${article.keyword} terus menjadi topik yang relevan dan penting untuk diikuti perkembangannya. 
                    Pantau terus situs kami untuk update terbaru seputar ${article.keyword}.
                </p>
            </div>
            
            <!-- MIDDLE ADS -->
            <div class="ads-container">
                ${adsScript}
            </div>
            
            <div class="footer">
                <p>¬© ${new Date().getFullYear()} News Portal - ${article.languageName}</p>
                <p style="margin-top: 10px; font-size: 0.8rem;">
                    Sumber: Google News ‚Ä¢ Hak cipta dilindungi undang-undang ‚Ä¢ Link afiliasi/sponsor
                </p>
            </div>
        </div>
    </div>
    
    <!-- HISTATS COUNTER -->
    ${histatsScript}
</body>
</html>`;
        }

        function generateSitemap(articles) {
            let urls = '';
            articles.forEach(article => {
                urls += `  <url>
    <loc>${article.url}</loc>
    <lastmod>${article.lastmod}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.7</priority>
  </url>\n`;
            });
            
            return `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${urls}</urlset>`;
        }

        function displayTitlePreview(titles) {
            const grid = document.getElementById('titlePreviewGrid');
            grid.innerHTML = titles.map((t, i) => `
                <div style="background: white; border: 1px solid #e0e0e0; border-radius: 12px; padding: 20px;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                        <span style="background: #0b2b40; color: white; width: 26px; height: 26px; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-weight: bold;">${i+1}</span>
                        <span style="background: #28a745; color: white; padding: 3px 10px; border-radius: 30px; font-size: 0.7rem;">MODIFIKASI</span>
                    </div>
                    <p style="font-weight: 700; color: #0b2b40; margin-bottom: 10px;">${t.modified}</p>
                    <div style="background: #f8f9fa; padding: 12px; border-radius: 8px; margin-top: 10px;">
                        <span style="color: #6c757d; font-size: 0.8rem;">üìé Original: </span>
                        <span style="color: #495057; font-size: 0.85rem;">${t.original}</span>
                    </div>
                </div>
            `).join('');
        }

        function updateFileList(articles) {
            const fileList = document.getElementById('fileList');
            let html = '';
            
            articles.forEach((article, i) => {
                html += `<div class="file-item">
                    <span style="color: #0066cc;">üìÑ</span>
                    <span style="font-family: monospace; color: #0b2b40;">${article.filename}</span>
                    <span style="margin-left: auto; color: #28a745; font-size: 0.8rem;">${Math.floor(Math.random() * 8 + 8)}KB</span>
                </div>`;
            });
            
            html += `<div class="file-item" style="background: #e6f2ff;">
                <span style="color: #17a2b8;">üó∫Ô∏è</span>
                <span style="font-family: monospace; color: #0b2b40;">sitemap.xml</span>
                <span style="margin-left: auto; color: #17a2b8; font-size: 0.8rem;">${articles.length} URLs</span>
            </div>`;
            
            fileList.innerHTML = html;
        }

        function downloadAllZip() {
            if (generatedArticles.length === 0) {
                alert('Generate dulu!');
                return;
            }
            
            alert('üì¶ ZIP DOWNLOAD - Dalam implementasi full, ' + generatedArticles.length + ' file HTML + sitemap.xml akan di-download.\n\nUntuk demo, silakan download sitemap.xml.');
        }

        function downloadSitemap() {
            if (!generatedSitemap) {
                alert('Generate dulu!');
                return;
            }
            
            const blob = new Blob([generatedSitemap], { type: 'application/xml' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `sitemap-${document.getElementById('mainKeyword').value.trim().replace(/\s+/g, '-')}-${Date.now()}.xml`;
            a.click();
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
